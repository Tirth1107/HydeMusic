[{"filePath":"D:\\PROJECTS\\HYDE-MUSIC\\DESKTOP(FLASK + REACT)\\VibeEra\\Frontend\\Chatbot-Main\\src\\App.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'funnyMessages'. Either include it or remove the dependency array.","line":36,"column":6,"nodeType":"ArrayExpression","endLine":36,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [funnyMessages]","fix":{"range":[1050,1052],"text":"[funnyMessages]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react'\nimport { useAuth } from '@clerk/clerk-react'\nimport './App.css'\nimport MusicPage from './Components/Music'\nimport SignInPage from './Components/SignInPage'\n\nfunction App() {\n  const { isSignedIn, isLoaded } = useAuth()\n  const [isAppReady, setIsAppReady] = useState(false)\n\n  const funnyMessages = [\n    \"Dropping the beat... üéß\",\n    \"Charging the bass... üîä\",\n    \"Tuning the vibe... ‚ú®\",\n    \"Setting the stage... üé§\",\n    \"Loading the red magic... üî¥\",\n    \"Waking up the drummer... ü•Å\",\n    \"Fixing the reverb... üé∏\",\n    \"Perfecting the playlist... üé∂\"\n  ]\n\n  const [currentMessage, setCurrentMessage] = useState(funnyMessages[0])\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentMessage(prev => {\n        let nextIndex\n        do {\n          nextIndex = Math.floor(Math.random() * funnyMessages.length)\n        } while (funnyMessages[nextIndex] === prev)\n        return funnyMessages[nextIndex]\n      })\n    }, 2500)\n\n    return () => clearInterval(interval)\n  }, [])\n\n  useEffect(() => {\n    if (isLoaded) {\n      const timer = setTimeout(() => {\n        setIsAppReady(true)\n      }, 2000)\n      return () => clearTimeout(timer)\n    }\n  }, [isLoaded])\n\n  if (!isLoaded) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"loading-spinner\"></div>\n        <p>Initializing Hyde Music...</p>\n      </div>\n    )\n  }\n\n  if (!isAppReady) {\n    return (\n      <div className=\"loading-container premium\">\n        <div className=\"loading-spinner premium\"></div>\n        <p className=\"loading-text premium animate-fade\">{currentMessage}</p>\n        <div className=\"music-bars\">\n          <span></span><span></span><span></span><span></span><span></span>\n        </div>\n      </div>\n    )\n  }\n\n  if (!isSignedIn) {\n    return <SignInPage />\n  }\n\n  return (\n    <div className=\"App dark-theme\">\n      <MusicPage />\n    </div>\n  )\n}\n\nexport default App","usedDeprecatedRules":[]},{"filePath":"D:\\PROJECTS\\HYDE-MUSIC\\DESKTOP(FLASK + REACT)\\VibeEra\\Frontend\\Chatbot-Main\\src\\Components\\AboutMe.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'motion' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":2,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":16,"suggestions":[{"messageId":"removeVar","data":{"varName":"motion"},"fix":{"range":[27,66],"text":""},"desc":"Remove unused variable 'motion'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'skills' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":18,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":18,"endColumn":15,"suggestions":[{"messageId":"removeVar","data":{"varName":"skills"},"fix":{"range":[307,1017],"text":""},"desc":"Remove unused variable 'skills'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'experiences' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":64,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":64,"endColumn":20,"suggestions":[{"messageId":"removeVar","data":{"varName":"experiences"},"fix":{"range":[2318,3180],"text":""},"desc":"Remove unused variable 'experiences'."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { motion } from \"framer-motion\";\nimport { \n  Github, \n  Linkedin, \n  Mail, \n  MapPin, \n  Calendar, \n  Code, \n  BookOpen, \n  Award,\n  Sparkles,\n  ExternalLink\n} from \"lucide-react\";\nimport AuthButton from \"./AuthButton\";\n\nexport default function AboutMe({ onNavigate }) {\n  const skills = [\n    { name: \"React\", level: 90, category: \"Frontend\" },\n    { name: \"JavaScript\", level: 88, category: \"Frontend\" },\n    { name: \"Python\", level: 85, category: \"Backend\" },\n    { name: \"Node.js\", level: 80, category: \"Backend\" },\n    { name: \"TypeScript\", level: 75, category: \"Frontend\" },\n    { name: \"Flask\", level: 82, category: \"Backend\" },\n    { name: \"MongoDB\", level: 78, category: \"Database\" },\n    { name: \"Machine Learning\", level: 75, category: \"AI/ML\" },\n    { name: \"TensorFlow\", level: 70, category: \"AI/ML\" },\n    { name: \"Docker\", level: 68, category: \"DevOps\" },\n    { name: \"Git\", level: 85, category: \"DevOps\" },\n    { name: \"MySQL\", level: 75, category: \"Database\" },\n  ];\n\n  const projects = [\n    {\n      title: \"Discord Clone\",\n      description: \"A fully Functional Clone of Discord with Realtime Chat and Voice Channels using Websockets and WebRTC.\",\n      tech: [\"Node.js\", \"MongoDB\", \"Express\", \"Tailwind CSS\", \"Websockets\", \"WebRTC\"],\n      link: \"#\",\n      github: \"https://github.com/Bhavya773-coder/discord-clone\"\n    },\n    {\n      title: \"Car Runner Game\",\n      description: \"A 3D Car Racing Game with Multiplayer Support and Realtime Leaderboard using Unity and Blender.\",\n      tech: [\"Unity\", \"C#\", \"Blender\"],\n      link: \"#\",\n      github: \"https://github.com/Bhavya773-coder/car-runner-game\"\n    },\n    {\n      title: \"AI Weagon Detection\",\n      description: \"A Realtime Object Detection System for Weagons using Own Models and OpenCV, Pytorch.\",\n      tech: [\"Python\", \"Training Models\", \"OpenCV\", \"Pytorch\", \"Deep Learning\", \"CNN\"],\n      link: \"#\",\n      github: \"https://github.com/Bhavya773-coder/ai-weapon-detection\"\n    },\n    {\n      title: \"VibeEra - AI Assistant\",\n      description: \"Modern chatbot application with elegant UI design, user authentication, and AI integration capabilities.\",\n      tech: [\"React\", \"Flask\", \"Clerk\", \"Framer Motion\"],\n      link: \"#\",\n      github: \"https://github.com/Bhavya773-coder/aura-chat\"\n    }\n  ];\n\n  const experiences = [\n    {\n      role: \"Software Developer\",\n      company: \"Personal Projects\",\n      period: \"2023 - Present\",\n      description: \"Building full-stack web applications using modern technologies. Focus on creating clean, maintainable code and excellent user experiences.\"\n    },\n    {\n      role: \"Frontend Developer\",\n      company: \"Learning & Development\",\n      period: \"2022 - Present\",\n      description: \"Developing responsive user interfaces and exploring modern frontend frameworks. Passionate about creating intuitive and accessible web experiences.\"\n    },\n    {\n      role: \"Technology Enthusiast\",\n      company: \"Continuous Learning\",\n      period: \"2021 - Present\",\n      description: \"Exploring new technologies and frameworks through hands-on projects. Active in developer communities and open-source contributions.\"\n    }\n  ];\n\n  const education = [\n    {\n      degree: \"Computer Science\",\n      school: \"Kalyan Polytechnic\",\n      period: \"2020 - 2023\",\n      description: \"Studying computer science with focus on software development and modern programming practices. Actively participating in coding projects and technical communities.\"\n    },\n    {\n      degree: \"B.Tech\",\n      school: \"Darshan University\",\n      period: \"2023-Present\",\n      description: \"Continuously expanding knowledge through online courses, documentation, and hands-on project development. Committed to staying current with industry trends. Learning as much as possible for AIML Devlopement.\"\n    }\n  ];\n\n  return (\n    <div className=\"about-root theme--dark\">\n      {/* Animated background */}\n      <div className=\"bg-anim bg-anim--dark\" aria-hidden=\"true\" />\n\n      <header className=\"about-header\">\n        <div className=\"about-header__left\">\n          <div className=\"about-logo\">\n            <Sparkles className=\"icon\" />\n          </div>\n          <div>\n            <h1 className=\"about-title\">VibeEra</h1>\n            <p className=\"about-subtitle\">Full Stack Developer & AI Enthusiast</p>\n          </div>\n        </div>\n        <div className=\"about-header__right\">\n          <AuthButton />\n          <button className=\"btn btn--ghost\" onClick={() => onNavigate('chat')}>Back to Chat</button>\n        </div>\n      </header>\n\n      <main className=\"about-main\">\n        <div className=\"about-content\">\n          {/* Hero Section */}\n          <motion.section \n            initial={{ opacity: 0, y: 20 }} \n            animate={{ opacity: 1, y: 0 }} \n            className=\"hero-section\"\n          >\n            <div className=\"hero-content\">\n              <div className=\"hero-text\">\n                <h2 className=\"hero-title\">Hi, I'm <span className=\"highlight\">Bhavya</span></h2>\n                <p className=\"hero-description\">\n                  I'm an enthusiastic AI/ML Developer and Game Developer, eager to dive into building intelligent systems \n                  and immersive gaming experiences. I enjoy solving challenging problems by applying machine learning \n                  algorithms and creating engaging, interactive games. When I'm not coding, you'll find me exploring \n                  new AI/ML techniques, working on personal game projects, or contributing to open-source communities.\n                </p>\n                <div className=\"hero-stats\">\n                  <div className=\"stat\">\n                    <span className=\"stat-number\">0</span>\n                    <span className=\"stat-label\">Years Experience</span>\n                  </div>\n                  <div className=\"stat\">\n                    <span className=\"stat-number\">16+</span>\n                    <span className=\"stat-label\">Projects Completed</span>\n                  </div>\n                  <div className=\"stat\">\n                    <span className=\"stat-number\">0</span>\n                    <span className=\"stat-label\">Happy Clients</span>\n                  </div>\n                  <div className=\"stat\">\n                    <span className=\"stat-number\">20+</span>\n                    <span className=\"stat-label\">Technologies</span>\n                  </div>\n                </div>\n              </div>\n              <div className=\"hero-image\">\n                <div className=\"profile-placeholder\">\n                  <span>üë®‚Äçüíª</span>\n                </div>\n              </div>\n            </div>\n          </motion.section>\n\n          {/* Contact Info */}\n          <motion.section \n            initial={{ opacity: 0, y: 20 }} \n            animate={{ opacity: 1, y: 0 }} \n            transition={{ delay: 0.1 }}\n            className=\"contact-section\"\n          >\n            <h3 className=\"section-title\">Get In Touch</h3>\n            <div className=\"contact-grid\">\n              <a href=\"mailto:contact@example.com\" className=\"contact-item\">\n                <Mail className=\"icon\" />\n                <span>contact@example.com</span>\n              </a>\n              <a href=\"https://github.com/Bhavya773-coder\" className=\"contact-item\">\n                <Github className=\"icon\" />\n                <span>github.com/Bhavya773-coder</span>\n              </a>\n              <a href=\"https://linkedin.com/in/your-profile\" className=\"contact-item\">\n                <Linkedin className=\"icon\" />\n                <span>linkedin.com/in/your-profile</span>\n              </a>\n              <div className=\"contact-item\">\n                <MapPin className=\"icon\" />\n                <span>India</span>\n              </div>\n              <div className=\"contact-item\">\n                <Calendar className=\"icon\" />\n                <span>Available for opportunities</span>\n              </div>\n            </div>\n          </motion.section>\n\n          {/* Projects */}\n          <motion.section \n            initial={{ opacity: 0, y: 20 }} \n            animate={{ opacity: 1, y: 0 }} \n            transition={{ delay: 0.3 }}\n            className=\"projects-section\"\n          >\n            <h3 className=\"section-title\">Featured Projects</h3>\n            <div className=\"projects-grid\">\n              {projects.map((project, index) => (\n                <motion.div\n                  key={project.title}\n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: 0.1 * index }}\n                  className=\"project-card\"\n                >\n                  <div className=\"project-header\">\n                    <h4 className=\"project-title\">{project.title}</h4>\n                    <div className=\"project-links\">\n                      <a href={project.link} className=\"project-link\" title=\"Live Demo\">\n                        <ExternalLink className=\"icon\" />\n                      </a>\n                      <a href={project.github} className=\"project-link\" title=\"GitHub\">\n                        <Github className=\"icon\" />\n                      </a>\n                    </div>\n                  </div>\n                  <p className=\"project-description\">{project.description}</p>\n                  <div className=\"project-tech\">\n                    {project.tech.map(tech => (\n                      <span key={tech} className=\"tech-tag\">{tech}</span>\n                    ))}\n                  </div>\n                </motion.div>\n              ))}\n            </div>\n          </motion.section>\n\n          {/* Education */}\n          <motion.section \n            initial={{ opacity: 0, y: 20 }} \n            animate={{ opacity: 1, y: 0 }} \n            transition={{ delay: 0.5 }}\n            className=\"education-section\"\n          >\n            <h3 className=\"section-title\">Education</h3>\n            <div className=\"education-grid\">\n              {education.map((edu, index) => (\n                <motion.div\n                  key={index}\n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: 0.1 * index }}\n                  className=\"education-card\"\n                >\n                  <div className=\"education-icon\">\n                    <BookOpen className=\"icon\" />\n                  </div>\n                  <div className=\"education-content\">\n                    <h4 className=\"education-degree\">{edu.degree}</h4>\n                    <p className=\"education-school\">{edu.school}</p>\n                    <p className=\"education-period\">{edu.period}</p>\n                    <p className=\"education-description\">{edu.description}</p>\n                  </div>\n                </motion.div>\n              ))}\n            </div>\n          </motion.section>\n\n          {/* Call to Action */}\n          <motion.section \n            initial={{ opacity: 0, y: 20 }} \n            animate={{ opacity: 1, y: 0 }} \n            transition={{ delay: 0.6 }}\n            className=\"cta-section\"\n          >\n            <div className=\"cta-content\">\n              <h3 className=\"cta-title\">Let's Work Together!</h3>\n              <p className=\"cta-description\">\n                I'm always interested in new opportunities and exciting projects. \n                Whether you have a question or just want to say hi, feel free to reach out!\n              </p>\n              <div className=\"cta-buttons\">\n                <a href=\"mailto:contact@example.com\" className=\"btn btn--primary\">\n                  <Mail className=\"icon\" />\n                  Get In Touch\n                </a>\n                <button className=\"btn btn--ghost\" onClick={() => onNavigate('chat')}>\n                  <Code className=\"icon\" />\n                  Try My Chatbot\n                </button>\n              </div>\n            </div>\n          </motion.section>\n        </div>\n      </main>\n    </div>\n  );\n}","usedDeprecatedRules":[]},{"filePath":"D:\\PROJECTS\\HYDE-MUSIC\\DESKTOP(FLASK + REACT)\\VibeEra\\Frontend\\Chatbot-Main\\src\\Components\\AuthButton.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'motion' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":4,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":16,"suggestions":[{"messageId":"removeVar","data":{"varName":"motion"},"fix":{"range":[91,98],"text":""},"desc":"Remove unused variable 'motion'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// src/AuthButton.js\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { LogOut, Settings } from \"lucide-react\";\nimport { useUser, useClerk, SignedIn, SignedOut } from \"@clerk/clerk-react\";\n// Make sure this CSS is imported, either here or in your main index.js/App.js\nimport './HydeMusicPremium.css'; \n\nexport default function AuthButton() {\n  const [isProfileOpen, setIsProfileOpen] = useState(false);\n  const dropdownRef = useRef(null);\n  const { user } = useUser();\n  const { signOut, openSignIn } = useClerk();\n\n  // Handle clicking outside the dropdown to close it\n  useEffect(() => {\n    function handleClickOutside(event) {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsProfileOpen(false);\n      }\n    }\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [dropdownRef]);\n\n  const handleSignOut = () => {\n    signOut();\n    setIsProfileOpen(false);\n  };\n\n  return (\n    <>\n      <SignedOut>\n        <button \n          className=\"auth-button-signin\"\n          onClick={() => openSignIn()}\n        >\n          Sign In\n        </button>\n      </SignedOut>\n\n      <SignedIn>\n        <div className=\"auth-button-container\" ref={dropdownRef}>\n          <button \n            className=\"auth-button-trigger\"\n            onClick={() => setIsProfileOpen(prev => !prev)}\n          >\n            <img src={user?.imageUrl} alt=\"Profile\" className=\"auth-avatar\" />\n            {/* Use user.firstName for a cleaner look */}\n            <span className=\"auth-name\" style={{ color: '#FF6D00' }}>{user?.firstName || 'User'}</span>\n          </button>\n\n          <AnimatePresence>\n            {isProfileOpen && (\n              <motion.div\n                className=\"profile-dropdown\"\n                initial={{ opacity: 0, y: -10, scale: 0.95 }}\n                animate={{ opacity: 1, y: 0, scale: 1 }}\n                exit={{ opacity: 0, y: -10, scale: 0.95 }}\n                transition={{ duration: 0.15, ease: \"easeOut\" }}\n              >\n                <div className=\"profile-dropdown-header\">\n                  <img src={user?.imageUrl} alt=\"Profile\" className=\"auth-avatar\" />\n                  <div className=\"profile-dropdown-info\">\n                    <span className=\"profile-dropdown-name\" style={{ color: '#FF6D00' }}>{user?.fullName}</span>\n                    <span className=\"profile-dropdown-email\" style={{ color: '#FF6D00' }}>\n                      {user?.primaryEmailAddress.emailAddress}\n                    </span>\n                  </div>\n                </div>\n                {/* <button \n                className=\"profile-dropdown-item\"\n                style={{ color: '#FF6D00' }}\n                onClick={() => window.location.href = \"/Settings\"}>\n                    <Settings size={16} />\n                    <span>Settings</span>\n                </button> */}\n                <button \n                  className=\"profile-dropdown-item\"\n                  style={{ color: '#FF6D00' }}\n                  onClick={handleSignOut}\n                >\n                  <LogOut size={16} />\n                  <span>Sign Out</span>\n                </button>\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </div>\n      </SignedIn>\n    </>\n  );\n}","usedDeprecatedRules":[]},{"filePath":"D:\\PROJECTS\\HYDE-MUSIC\\DESKTOP(FLASK + REACT)\\VibeEra\\Frontend\\Chatbot-Main\\src\\Components\\Chat.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'motion' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":2,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":16,"suggestions":[{"messageId":"removeVar","data":{"varName":"motion"},"fix":{"range":[69,76],"text":""},"desc":"Remove unused variable 'motion'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'shuffleQueue' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":38,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":38,"endColumn":22,"suggestions":[{"messageId":"removeVar","data":{"varName":"shuffleQueue"},"fix":{"range":[1416,1428],"text":""},"desc":"Remove unused variable 'shuffleQueue'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'currentShuffleIndex' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":39,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":39,"endColumn":29,"suggestions":[{"messageId":"removeVar","data":{"varName":"currentShuffleIndex"},"fix":{"range":[1478,1497],"text":""},"desc":"Remove unused variable 'currentShuffleIndex'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'setIsSeeking' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":50,"column":21,"nodeType":"Identifier","messageId":"unusedVar","endLine":50,"endColumn":33,"suggestions":[{"messageId":"removeVar","data":{"varName":"setIsSeeking"},"fix":{"range":[1989,2003],"text":""},"desc":"Remove unused variable 'setIsSeeking'."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'initializePlayer'. Either include it or remove the dependency array.","line":100,"column":6,"nodeType":"ArrayExpression","endLine":100,"endColumn":33,"suggestions":[{"desc":"Update the dependencies array to be: [currentTrack, initializePlayer, playerReady]","fix":{"range":[3789,3816],"text":"[currentTrack, initializePlayer, playerReady]"}}]},{"ruleId":"no-empty","severity":2,"message":"Empty block statement.","line":122,"column":94,"nodeType":"BlockStatement","messageId":"unexpected","endLine":122,"endColumn":96,"suggestions":[{"messageId":"suggestComment","data":{"type":"block"},"fix":{"range":[4504,4504],"text":" /* empty */ "},"desc":"Add comment inside empty block statement."}]},{"ruleId":"no-empty","severity":2,"message":"Empty block statement.","line":126,"column":86,"nodeType":"BlockStatement","messageId":"unexpected","endLine":126,"endColumn":88,"suggestions":[{"messageId":"suggestComment","data":{"type":"block"},"fix":{"range":[4741,4741],"text":" /* empty */ "},"desc":"Add comment inside empty block statement."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'index' is assigned a value but never used.","line":228,"column":29,"nodeType":"Identifier","messageId":"unusedVar","endLine":228,"endColumn":34,"suggestions":[{"messageId":"removeVar","data":{"varName":"index"},"fix":{"range":[7658,7669],"text":""},"desc":"Remove unused variable 'index'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":298,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":298,"endColumn":23}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useRef, useEffect } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { \n    X, Search, Play, Pause, SkipBack, SkipForward, Music, \n    Shuffle, Loader, List, Plus, Volume2, VolumeX, Check \n} from \"lucide-react\"; // Removed Sparkles\n//\n// V IMPORTANT: Change this to the new CSS file name\n//\nimport './HydeMusicPremium.css'; \n//\n// +++ IMPORT YOUR AUTH BUTTON +++\n//\nimport AuthButton from \"./AuthButton\"; // Assumes AuthButton.js is in the same folder\n\n\nexport default function HydeMusicPlayer() {\n  const [showBetaPopup, setShowBetaPopup] = useState(true)\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [currentTrack, setCurrentTrack] = useState(() => {\n    try {\n      const saved = localStorage.getItem('player.currentTrack');\n      return saved ? JSON.parse(saved) : null;\n    } catch { return null; }\n  });\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchLoading, setSearchLoading] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [playlist, setPlaylist] = useState(() => {\n    try {\n      const saved = localStorage.getItem('player.playlist');\n      return saved ? JSON.parse(saved) : [];\n    } catch { return []; }\n  });\n  const [shuffleQueue, setShuffleQueue] = useState(() => []);\n  const [currentShuffleIndex, setCurrentShuffleIndex] = useState(0);\n  const [currentIndex, setCurrentIndex] = useState(() => {\n    const saved = localStorage.getItem('player.currentIndex');\n    return saved ? parseInt(saved, 10) : 0;\n  });\n  const [isShuffled, setIsShuffled] = useState(() => {\n    const saved = localStorage.getItem('player.isShuffled');\n    return saved ? JSON.parse(saved) : false;\n  });\n  const [repeatMode] = useState('off');\n  const [showQueue, setShowQueue] = useState(true); \n  const [isSeeking, setIsSeeking] = useState(false);\n  const [volume, setVolume] = useState(0.7);\n  const [isMuted, setIsMuted] = useState(false);\n  const [previousVolume, setPreviousVolume] = useState(0.7);\n  const [playerReady, setPlayerReady] = useState(false);\n  const [toast, setToast] = useState({ show: false, message: \"\", type: \"success\" });\n  // const [isLoadingQueue, setIsLoadingQueue] = useState(false); // Removed AI state\n\n  const playerRef = useRef(null);\n  const progressRef = useRef(null);\n  const volumeRef = useRef(null);\n  \n  // Toast notification function\n  const showToast = (message, type = \"success\") => {\n    setToast({ show: true, message, type });\n    setTimeout(() => {\n      setToast({ show: false, message: \"\", type: \"success\" });\n    }, 3000);\n  };\n\n  // Initialize YouTube API when component mounts\n  useEffect(() => {\n    const initYouTubeAPI = () => {\n      if (window.YT && window.YT.Player) {\n        setPlayerReady(true);\n      } else {\n        if (!window.YT && !document.querySelector('script[src*=\"youtube.com/iframe_api\"]')) {\n          const tag = document.createElement('script');\n          tag.src = 'https://www.youtube.com/iframe_api';\n          const firstScriptTag = document.getElementsByTagName('script')[0];\n          firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n        }\n        \n        window.onYouTubeIframeAPIReady = () => {\n          setPlayerReady(true);\n        };\n      }\n    };\n    const timer = setTimeout(initYouTubeAPI, 100);\n    return () => clearTimeout(timer);\n  }, []);\n\n  // Initialize player when track changes\n  useEffect(() => {\n    if (currentTrack && playerReady && currentTrack.youtube_id) {\n      const timer = setTimeout(() => {\n        initializePlayer();\n      }, 200); \n      return () => clearTimeout(timer);\n    }\n  }, [currentTrack, playerReady]);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      try {\n        if (playerRef.current && typeof playerRef.current.destroy === 'function') {\n          playerRef.current.destroy();\n          playerRef.current = null;\n        }\n        const container = document.getElementById('youtube-player');\n        if (container && container.parentNode) {\n          container.parentNode.removeChild(container);\n        }\n      } catch (e) {\n        console.warn('Player cleanup failed during unmount:', e);\n      }\n    };\n  }, []);\n\n  // Persist core player state\n  useEffect(() => {\n    try { localStorage.setItem('player.currentTrack', JSON.stringify(currentTrack)); } catch {}\n  }, [currentTrack]);\n  useEffect(() => { localStorage.setItem('player.currentIndex', String(currentIndex)); }, [currentIndex]);\n  useEffect(() => {\n    try { localStorage.setItem('player.playlist', JSON.stringify(playlist)); } catch {}\n  }, [playlist]);\n  useEffect(() => { localStorage.setItem('player.isShuffled', JSON.stringify(isShuffled)); }, [isShuffled]);\n\n  // Update progress\n  useEffect(() => {\n    let interval;\n    if (isPlaying && !isSeeking) {\n      interval = setInterval(() => {\n        try {\n          const time = playerRef.current.getCurrentTime();\n          if (time !== undefined) {\n            setCurrentTime(time);\n          }\n        } catch (error) {\n          console.error('Error getting current time:', error);\n        }\n      }, 1000);\n    }\n    return () => clearInterval(interval);\n  }, [isPlaying, isSeeking]);\n\n  const searchMusic = async (query) => {\n    if (!query.trim()) return;\n    \n    setSearchLoading(true);\n    try {\n      const response = await fetch('http://127.0.0.1:5001/search_music', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ query }),\n      });\n      if (!response.ok) throw new Error('Search failed');\n      const data = await response.json();\n      setSearchResults(data.tracks || []);\n    } catch (error) {\n      console.error('Search error:', error);\n      setSearchResults([]);\n      showToast(\"Search failed. Please try again.\", \"error\");\n    } finally {\n      setSearchLoading(false);\n    }\n  };\n\n  // Removed loadShuffleQueue and loadAISuggestions\n\n  const toggleShuffle = async () => {\n    const newShuffleState = !isShuffled;\n    setIsShuffled(newShuffleState);\n    \n    if (!newShuffleState) {\n      setShuffleQueue([]);\n      setCurrentShuffleIndex(0);\n      showToast(\"Shuffle disabled\", \"info\");\n    } else {\n        showToast(\"Shuffle enabled\", \"info\");\n    }\n  };\n\n  const handleNext = () => {\n    const totalTracks = playlist.length;\n    if (totalTracks === 0) return;\n    if (isShuffled) {\n      let nextIndex = currentIndex;\n      if (totalTracks > 1) {\n        while (nextIndex === currentIndex) {\n          nextIndex = Math.floor(Math.random() * totalTracks);\n        }\n      }\n      setCurrentIndex(nextIndex);\n      setCurrentTrack(playlist[nextIndex]);\n      return;\n    }\n    const nextIndex = (currentIndex + 1) % totalTracks;\n    setCurrentIndex(nextIndex);\n    setCurrentTrack(playlist[nextIndex]);\n  };\n\n  const handlePrevious = () => {\n    const totalTracks = playlist.length;\n    if (totalTracks === 0) return;\n    if (isShuffled) {\n      let prevIndex = currentIndex;\n      if (totalTracks > 1) {\n        while (prevIndex === currentIndex) {\n          prevIndex = Math.floor(Math.random() * totalTracks);\n        }\n      }\n      setCurrentIndex(prevIndex);\n      setCurrentTrack(playlist[prevIndex]);\n      return;\n    }\n    const prevIndex = currentIndex === 0 ? totalTracks - 1 : currentIndex - 1;\n    setCurrentIndex(prevIndex);\n    setCurrentTrack(playlist[prevIndex]);\n  };\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    searchMusic(searchQuery);\n  };\n\n  const playTrack = (track, index = 0) => {\n    if (!track.youtube_id) {\n      showToast(\"This track is not available for playback\", \"error\");\n      return;\n    }\n    setCurrentTrack(track);\n    let trackIndex = playlist.findIndex(t => t.id === track.id);\n    if (trackIndex === -1) {\n      const newPlaylist = [track, ...playlist];\n      setPlaylist(newPlaylist);\n      trackIndex = 0; \n    }\n    setCurrentIndex(trackIndex);\n    setIsLoading(true);\n  };\n\n  const playTrackFromSearch = (track) => {\n    if (!track.youtube_id) {\n      showToast(\"This track is not available for playback\", \"error\");\n      return;\n    }\n    let trackIndex = playlist.findIndex(t => t.id === track.id);\n    if (trackIndex !== -1) {\n      setCurrentTrack(track);\n      setCurrentIndex(trackIndex);\n    } else {\n      const newPlaylist = [track, ...playlist];\n      setPlaylist(newPlaylist);\n      setCurrentTrack(track);\n      setCurrentIndex(0); \n    }\n    setIsLoading(true);\n  };\n\n  const initializePlayer = () => {\n    let container = document.getElementById('youtube-player');\n    if (!container) {\n      container = document.createElement('div');\n      container.id = 'youtube-player';\n      container.style.cssText = 'position: fixed; top: -9999px; left: -9999px; width: 1px; height: 1px; opacity: 0; pointer-events: none; z-index: -9999;';\n      document.body.appendChild(container);\n    }\n    try {\n      if (playerRef.current && typeof playerRef.current.destroy === 'function') {\n        playerRef.current.destroy();\n        playerRef.current = null;\n      }\n    } catch (e) { console.warn('Player destroy failed:', e); }\n    if (!currentTrack?.youtube_id) {\n      setIsLoading(false);\n      return;\n    }\n    setIsLoading(true);\n    \n    try {\n      playerRef.current = new window.YT.Player(container, {\n        height: '1', width: '1', videoId: currentTrack.youtube_id,\n        playerVars: {\n          autoplay: 1, controls: 0, disablekb: 1, fs: 0,\n          modestbranding: 1, rel: 0, showinfo: 0, start: 0,\n          origin: window.location.origin, enablejsapi: 1\n        },\n        events: {\n          onReady: (event) => {\n            try {\n              const duration = event.target.getDuration();\n              setDuration(duration > 0 ? duration : 180);\n              event.target.setVolume(Math.round(volume * 100));\n              setIsLoading(false);\n              event.target.playVideo();\n            } catch (e) { setIsLoading(false); }\n          },\n          onStateChange: (event) => {\n            try {\n              if (event.data === window.YT.PlayerState.PLAYING) {\n                setIsPlaying(true); setIsLoading(false);\n              } else if (event.data === window.YT.PlayerState.PAUSED) {\n                setIsPlaying(false);\n              } else if (event.data === window.YT.PlayerState.ENDED) {\n                if (repeatMode === 'one') {\n                  setTimeout(() => {\n                    if (playerRef.current) {\n                      try {\n                        playerRef.current.seekTo(0);\n                        playerRef.current.playVideo();\n                        setCurrentTime(0);\n                      } catch (e) { console.error('Repeat error:', e); }\n                    }\n                  }, 100);\n                } else {\n                  handleNext(); \n                }\n              } else if (event.data === window.YT.PlayerState.BUFFERING) {\n                setIsLoading(true);\n              }\n            } catch (e) { console.error('State change error:', e); }\n          },\n          onError: (event) => {\n            console.error('YouTube player error:', event.data);\n            setIsLoading(false); setIsPlaying(false);\n            showToast(\"Failed to load video. Trying next track...\", \"error\");\n            if (playlist.length > 1) {\n              setTimeout(() => { handleNext(); }, 1000);\n            }\n          }\n        }\n      });\n    } catch (error) {\n      console.error('Failed to initialize YouTube player:', error);\n      setIsLoading(false);\n      showToast(\"YouTube player initialization failed\", \"error\");\n    }\n  };\n\n  const togglePlayPause = () => {\n    if (!playerRef.current) return;\n    try {\n      if (isPlaying) {\n        playerRef.current.pauseVideo();\n      } else {\n        playerRef.current.playVideo();\n      }\n    } catch (error) { console.error('Error toggling play/pause:', error); }\n  };\n\n  const handleProgressClick = (e) => {\n    if (!playerRef.current || !progressRef.current) return;\n    const rect = progressRef.current.getBoundingClientRect();\n    const clickX = e.clientX - rect.left;\n    const newTime = (clickX / rect.width) * duration;\n    playerRef.current.seekTo(newTime);\n    setCurrentTime(newTime);\n  };\n\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const addToPlaylist = (track) => {\n    if (!playlist.find(t => t.id === track.id)) {\n      setPlaylist(prev => [...prev, track]);\n      showToast(`\"${track.name}\" added to queue!`, \"success\");\n    } else {\n      showToast(`\"${track.name}\" is already in queue`, \"info\");\n    }\n  };\n\n  const removeFromPlaylist = (trackId) => {\n    setPlaylist(prev => prev.filter(t => t.id !== trackId));\n    showToast(\"Track removed from queue\", \"info\");\n  };\n\n  const toggleMute = () => {\n    if (isMuted) {\n      setVolume(previousVolume);\n      setIsMuted(false);\n      if (playerRef.current) playerRef.current.setVolume(previousVolume * 100);\n    } else {\n      setPreviousVolume(volume);\n      setVolume(0);\n      setIsMuted(true);\n      if (playerRef.current) playerRef.current.setVolume(0);\n    }\n  };\n\n  const handleVolumeChange = (e) => {\n    const newVolume = parseFloat(e.target.value);\n    setVolume(newVolume);\n    setIsMuted(newVolume === 0);\n    if (playerRef.current) {\n      playerRef.current.setVolume(newVolume * 100);\n    }\n  };\n\n  return (\n    <>\n      <AnimatePresence>\n        {toast.show && (\n          <motion.div\n            initial={{ opacity: 0, y: -50, x: 50 }}\n            animate={{ opacity: 1, y: 0, x: 0 }}\n            exit={{ opacity: 0, y: -50, x: 50 }}\n            className=\"toast-notification\"\n          >\n            <Check size={16} />\n            {toast.message}\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* --- BETA VERSION POPUP --- */}\n      <AnimatePresence>\n        {showBetaPopup && (\n          <motion.div\n            initial={{ opacity: 0, scale: 0.9 }}\n            animate={{ opacity: 1, scale: 1 }}\n            exit={{ opacity: 0, scale: 0.9 }}\n            className=\"beta-popup\"\n          >\n            <div className=\"beta-popup-content\">\n              <h2>Hyde Music (Beta)</h2>\n              <p>\n                Hyde Music is currently in <strong>beta</strong>.  \n                You may experience bugs or missing features ‚Äî  \n                we‚Äôre improving things every day.\n                Thanks for supporting the project!\n              </p>\n              <button onClick={() => setShowBetaPopup(false)} className=\"close-beta-btn\">\n                Continue\n              </button>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n\n      <div className=\"hyde-music-container\">\n        \n        <nav className=\"hyde-sidebar\">\n         <div className=\"brand\">\n            {/* <Music size={32} /> */}\n            <h1 style={{ color: 'green' }}>Hyde Music</h1>\n            <p style={{ color: '#FF6D00' }}>By Tirth</p><span style={{color : '#FF6D00'}}>(Beta V-1.0)</span>\n            <span><warn>Please Check For Any Update On <a href=\"https://hyde-music.vercel.app/\" target=\"_blank\" style={{color : '#FF6D00', textDecoration : 'none'}} onMouseOver={(e) => e.target.style.textDecoration = 'underline'} onMouseOut={(e) => e.target.style.textDecoration = 'none'}>Hyde Music</a></warn> Official Site.</span>\n\n          </div>\n          <div className=\"queue-header\">\n                <h2 style={{ color: '#FF6D00' }}>Queue ({playlist.length} tracks)</h2>\n                <button style={{ color: '#FF6D00' }} onClick={() => setShowQueue(!showQueue)} className=\"menu-button\" title={showQueue ? \"Hide Queue\" : \"Show Queue\"}>\n                  <List size={16} />\n                </button>\n             </div>\n\n            {playlist.length === 0 && (\n                <p className=\"empty-state\" style={{ color: '#FF6D00' }}>Your queue is empty.</p>\n            )}\n\n            {showQueue && (\n                <div className=\"track-list queue-list\">\n                {playlist.map((track, index) => (\n                  <div \n                    key={`${track.id}-${index}`} \n                    className={`track-item ${index === currentIndex ? 'active' : ''}`}\n                    onDoubleClick={() => playTrack(track, index)}\n                  >\n                    <div className=\"track-index\">\n                        <span className=\"index-number\" style={{ color: '#FF6D00' }}>{index === currentIndex ? <Volume2 size={16} className=\"active-icon\" /> : index + 1}</span>\n                        <button className=\"play-icon-button menu-button\" onClick={() => playTrack(track, index)} style={{ color: '#FF6D00' }} >\n                            <Play size={16} />\n                        </button>\n                    </div>\n                    <img \n                      src={track.image || '/api/placeholder/30/30'} \n                      alt={track.name}\n                      className=\"track-image small\"\n                    />\n                    <div className=\"track-info\">\n                      <div className=\"track-name\">{track.name}</div>\n                      <div className=\"track-artist\">{track.artists?.join(', ') || 'Unknown Artist'}</div>\n                    </div>\n                    <button \n                      style={{ color: '#FF6D00' }}\n                      onClick={() => removeFromPlaylist(track.id)}\n                      className=\"menu-button remove-button\"\n                      title=\"Remove from Queue\"\n                    >\n                      <X size={14} />\n                    </button>\n                  </div>\n                ))}\n              </div>\n            )}\n\n          {/* <div className=\"search-container\">\n            <form onSubmit={handleSearch} className=\"search-form\">\n                <Search size={18} className=\"search-icon\" />\n                <input\n                type=\"text\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                placeholder=\"Search for music...\"\n                className=\"search-input\"\n                />\n                {searchLoading && <Loader size={16} className=\"search-loader\" />}\n            </form>\n          </div> */}\n\n          {!playerReady && (\n            <div className=\"player-loading\">\n              <Loader size={16} className=\"animate-spin\" />\n              <span style={{ color: '#FF6D00' }}>Loading Player...</span>\n            </div>\n          )}\n        </nav>\n\n        <main className=\"hyde-main-content\">\n          \n          {/* +++ AUTH BUTTON INSERTED HERE +++ */}\n          <header className=\"main-header\">\n            <div className=\"search-container\">\n            <form onSubmit={handleSearch} className=\"search-form\">\n                <Search size={18} className=\"search-icon\" />\n                <input\n                type=\"text\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                placeholder=\"Search for music...\"\n                className=\"search-input\"\n                />\n                {searchLoading && <Loader size={16} className=\"search-loader\" />}\n            </form>\n          </div>\n            <AuthButton />\n            \n          </header>\n\n          <section className=\"main-section\">\n            <h2 style={{ color: '#FF6D00' }}>Search Results</h2>\n            {searchLoading && <div className=\"full-width-loader\"><Loader size={24} className=\"animate-spin\" /></div>}\n            \n            {!searchLoading && searchResults.length === 0 && (\n              <p className=\"empty-state\" style={{ color: '#FF6D00' }}>Search for songs to get started.</p>\n            )}\n\n            <div className=\"track-list\">\n              {searchResults.map((track) => (\n                <div key={track.id} className=\"track-item\" onDoubleClick={() => playTrackFromSearch(track)}>\n                  <img \n                    src={track.image || '/api/placeholder/40/40'} \n                    alt={track.name}\n                    className=\"track-image\"\n                  />\n                  <div className=\"track-info\">\n                    <div className=\"track-name\">{track.name}</div>\n                    <div className=\"track-artist\">{track.artists?.join(', ') || 'Unknown Artist'}</div>\n                    {!track.youtube_id && (\n                      <div className=\"track-unavailable\" style={{ color: '#FF6D00' }}>No playable version</div>\n                    )}\n                  </div>\n                  <div className=\"track-controls\">\n                    <button \n                      style={{ color: '#FF6D00' }}\n                      onClick={() => playTrackFromSearch(track)}\n                      className=\"menu-button\"\n                      title=\"Play\"\n                      disabled={!track.youtube_id}\n                    >\n                      <Play size={16} />\n                    </button>\n                    <button \n                      style={{ color: '#FF6D00' }}\n                      onClick={() => addToPlaylist(track)}\n                      className=\"menu-button\"\n                      title=\"Add to Queue\"\n                    >\n                      <Plus size={16} />\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </section>\n\n          {/* <section className=\"main-section\">\n             <div className=\"queue-header\">\n                <h2 style={{ color: '#FF6D00' }}>Queue ({playlist.length} tracks)</h2>\n                <button style={{ color: '#FF6D00' }} onClick={() => setShowQueue(!showQueue)} className=\"menu-button\" title={showQueue ? \"Hide Queue\" : \"Show Queue\"}>\n                  <List size={16} />\n                </button>\n             </div>\n\n            {playlist.length === 0 && (\n                <p className=\"empty-state\" style={{ color: '#FF6D00' }}>Your queue is empty.</p>\n            )}\n\n            {showQueue && (\n                <div className=\"track-list queue-list\">\n                {playlist.map((track, index) => (\n                  <div \n                    key={`${track.id}-${index}`} \n                    className={`track-item ${index === currentIndex ? 'active' : ''}`}\n                    onDoubleClick={() => playTrack(track, index)}\n                  >\n                    <div className=\"track-index\">\n                        <span className=\"index-number\" style={{ color: '#FF6D00' }}>{index === currentIndex ? <Volume2 size={16} className=\"active-icon\" /> : index + 1}</span>\n                        <button className=\"play-icon-button menu-button\" onClick={() => playTrack(track, index)} style={{ color: '#FF6D00' }} >\n                            <Play size={16} />\n                        </button>\n                    </div>\n                    <img \n                      src={track.image || '/api/placeholder/30/30'} \n                      alt={track.name}\n                      className=\"track-image small\"\n                    />\n                    <div className=\"track-info\">\n                      <div className=\"track-name\">{track.name}</div>\n                      <div className=\"track-artist\">{track.artists?.join(', ') || 'Unknown Artist'}</div>\n                    </div>\n                    <button \n                      style={{ color: '#FF6D00' }}\n                      onClick={() => removeFromPlaylist(track.id)}\n                      className=\"menu-button remove-button\"\n                      title=\"Remove from Queue\"\n                    >\n                      <X size={14} />\n                    </button>\n                  </div>\n                ))}\n              </div>\n            )}\n          </section> */}\n\n        </main>\n\n        <footer className=\"hyde-player-bar\">\n          \n          <div className=\"player-left\">\n            {currentTrack && (\n              <>\n                <img \n                  src={currentTrack.image || '/api/placeholder/60/60'} \n                  alt={currentTrack.name}\n                  className=\"player-track-image\"\n                />\n                <div className=\"player-track-info\">\n                  <div className=\"player-track-name\">{currentTrack.name}</div>\n                  <div className=\"player-track-artist\">{currentTrack.artists?.join(', ') || 'Unknown Artist'}</div>\n                </div>\n              </>\n            )}\n          </div>\n\n          <div className=\"player-center\">\n            <div className=\"player-controls\">\n              <button \n                type=\"button\"\n                onClick={toggleShuffle} \n                className={`menu-button ${isShuffled ? 'active' : ''}`}\n                title=\"Shuffle queue\"\n              >\n                <Shuffle size={16} />\n              </button>\n              <button type=\"button\" onClick={handlePrevious} className=\"menu-button\" title=\"Previous\">\n                <SkipBack size={18} />\n              </button>\n              \n              <button \n                type=\"button\"\n                onClick={togglePlayPause} \n                className=\"menu-button play-button\" \n                disabled={isLoading || !currentTrack?.youtube_id}\n                title={isPlaying ? 'Pause' : 'Play'}\n              >\n                {isLoading ? <Loader size={24} className=\"animate-spin\" /> : isPlaying ? <Pause size={24} /> : <Play size={24} />}\n              </button>\n\n              <button type=\"button\" onClick={handleNext} className=\"menu-button\" title=\"Next\">\n                <SkipForward size={18} />\n              </button>\n            </div>\n            \n            <div className=\"progress-bar-container\">\n              <span>{formatTime(currentTime)}</span>\n              <input\n                type=\"range\"\n                min=\"0\"\n                max={duration || 1}\n                value={currentTime}\n                step=\"1\"\n                ref={progressRef}\n                className=\"progress-slider\"\n                onChange={(e) => setCurrentTime(e.target.value)}\n                onMouseUp={handleProgressClick}\n                onTouchEnd={handleProgressClick}\n              />\n              <span>{formatTime(duration)}</span>\n            </div>\n          </div>\n\n          <div className=\"player-right\">\n            <button type=\"button\" onClick={toggleMute} className=\"menu-button\">\n              {isMuted || volume === 0 ? <VolumeX size={18} /> : <Volume2 size={18} />}\n            </button>\n            <input\n              type=\"range\"\n              min=\"0\"\n              max=\"1\"\n              step=\"0.01\"\n              value={volume}\n              onChange={handleVolumeChange}\n              className=\"volume-slider\"\n              ref={volumeRef}\n            />\n          </div>\n\n        </footer>\n      </div>\n    </>\n  );\n}","usedDeprecatedRules":[]},{"filePath":"D:\\PROJECTS\\HYDE-MUSIC\\DESKTOP(FLASK + REACT)\\VibeEra\\Frontend\\Chatbot-Main\\src\\Components\\ErrorBoundary.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":10,"column":35,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":40,"suggestions":[{"messageId":"removeVar","data":{"varName":"error"},"fix":{"range":[277,282],"text":""},"desc":"Remove unused variable 'error'."}]},{"ruleId":"no-undef","severity":2,"message":"'process' is not defined.","line":63,"column":12,"nodeType":"Identifier","messageId":"undef","endLine":63,"endColumn":19}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\nimport { AlertCircle, RefreshCw } from 'lucide-react';\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false, error: null, errorInfo: null };\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\n    this.setState({\n      error: error,\n      errorInfo: errorInfo\n    });\n  }\n\n  handleReset = () => {\n    this.setState({ hasError: false, error: null, errorInfo: null });\n  };\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div style={{\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center',\n          height: '100vh',\n          padding: '20px',\n          backgroundColor: '#1a1a2e',\n          color: 'white',\n          textAlign: 'center'\n        }}>\n          <AlertCircle size={64} color=\"#ff6b6b\" style={{ marginBottom: '20px' }} />\n          <h2 style={{ marginBottom: '10px', color: '#ff6b6b' }}>Something went wrong</h2>\n          <p style={{ marginBottom: '20px', color: '#ccc', maxWidth: '600px' }}>\n            The music player encountered an error. This is usually caused by YouTube player conflicts.\n          </p>\n          <button\n            onClick={this.handleReset}\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              padding: '12px 24px',\n              backgroundColor: '#7c3aed',\n              color: 'white',\n              border: 'none',\n              borderRadius: '8px',\n              cursor: 'pointer',\n              fontSize: '16px'\n            }}\n          >\n            <RefreshCw size={16} />\n            Try Again\n          </button>\n          {process.env.NODE_ENV === 'development' && (\n            <details style={{ marginTop: '20px', maxWidth: '800px' }}>\n              <summary style={{ cursor: 'pointer', color: '#7c3aed' }}>Error Details</summary>\n              <pre style={{ \n                textAlign: 'left', \n                backgroundColor: '#2a2a3e', \n                padding: '10px', \n                borderRadius: '4px',\n                fontSize: '12px',\n                overflow: 'auto'\n              }}>\n                {this.state.error && this.state.error.toString()}\n                <br />\n                {this.state.errorInfo.componentStack}\n              </pre>\n            </details>\n          )}\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n","usedDeprecatedRules":[]},{"filePath":"D:\\PROJECTS\\HYDE-MUSIC\\DESKTOP(FLASK + REACT)\\VibeEra\\Frontend\\Chatbot-Main\\src\\Components\\Music.jsx","messages":[{"ruleId":"no-empty","severity":2,"message":"Empty block statement.","line":136,"column":17,"nodeType":"BlockStatement","messageId":"unexpected","endLine":136,"endColumn":20,"suggestions":[{"messageId":"suggestComment","data":{"type":"block"},"fix":{"range":[6740,6741],"text":" /* empty */ "},"desc":"Add comment inside empty block statement."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":206,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":206,"endColumn":15},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback has a missing dependency: 'handleNext'. Either include it or remove the dependency array.","line":250,"column":6,"nodeType":"ArrayExpression","endLine":250,"endColumn":28,"suggestions":[{"desc":"Update the dependencies array to be: [currentTrack.youtube_id, handleNext, volume]","fix":{"range":[10415,10437],"text":"[currentTrack.youtube_id, handleNext, volume]"}}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport { AnimatePresence } from \"framer-motion\";\r\nimport {\r\n  X, Search, Play, Pause, SkipBack, SkipForward, Music,\r\n  Shuffle, List, Plus, Volume2, VolumeX, Check, Sparkles,\r\n  Home, Library, MoreVertical, Trash2, Heart\r\n} from \"lucide-react\";\r\nimport AuthButton from \"./AuthButton\";\r\n\r\nconst CURATED_PLAYLISTS = [\r\n  { id: 'c1', name: 'Hindi Party Hits', color: '#ff4b2b', description: 'Non-stop Bollywood party anthems.', search: 'hindi party songs' },\r\n  { id: 'c2', name: 'Lo-Fi Study', color: '#8e2de2', description: 'Beats to keep you focused.', search: 'lofi hip hop' },\r\n  { id: 'c3', name: 'Global Top 50', color: '#1e90ff', description: 'The biggest hits across the globe.', search: 'top global hits' },\r\n  { id: 'c4', name: 'Zen Garden', color: '#00b09b', description: 'Deep meditation and peaceful vibes.', search: 'meditation music' },\r\n  { id: 'c5', name: '90s Bollywood', color: '#f9d423', description: 'The golden era of melodies.', search: '90s hindi hits' },\r\n  { id: 'c6', name: 'Rock Legends', color: '#434343', description: 'Classic rock that never dies.', search: 'classic rock legends' },\r\n  { id: 'c7', name: 'EDM Pulse', color: '#0575e6', description: 'High-energy dance floor killers.', search: 'edm festival hits' },\r\n  { id: 'c8', name: 'Romantic Mood', color: '#e14eca', description: 'Soulful tracks for your special ones.', search: 'romantic hindi songs' },\r\n  { id: 'c9', name: 'Workout Power', color: '#ff5f6d', description: 'Push your limits with heavy beats.', search: 'workout motivation songs' },\r\n  { id: 'c10', name: 'Jazz Cafe', color: '#134e5e', description: 'Smooth jazz for a classy evening.', search: 'smooth jazz classics' },\r\n  { id: 'c11', name: 'Indie Vibes', color: '#4facfe', description: 'Discover the best independent artists.', search: 'indie pop' },\r\n  { id: 'c12', name: 'Classical Bliss', color: '#667eea', description: 'The timeless beauty of orchestra.', search: 'classical piano' },\r\n  { id: 'c13', name: 'Hip Hop Real', color: '#000000', description: 'Pure street energy and flow.', search: 'hip hop essentials' },\r\n  { id: 'c14', name: 'Acoustic Soul', color: '#f6d365', description: 'Raw emotions through strings.', search: 'acoustic pop' },\r\n  { id: 'c15', name: 'Trending India', color: '#ff0844', description: 'What India is listening to right now.', search: 'top hindu songs india' },\r\n];\r\n\r\nexport default function MusicPage() {\r\n  const [activeView, setActiveView] = useState(\"home\"); // home, search, playlist\r\n  const [selectedPlaylistId, setSelectedPlaylistId] = useState(null);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [currentTrack, setCurrentTrack] = useState(() => {\r\n    try {\r\n      const saved = localStorage.getItem('player.currentTrack');\r\n      return saved ? JSON.parse(saved) : null;\r\n    } catch { return null; }\r\n  });\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [searchLoading, setSearchLoading] = useState(false);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [duration, setDuration] = useState(0);\r\n\r\n  // Custom Playlists State\r\n  const [playlists, setPlaylists] = useState(() => {\r\n    try {\r\n      const saved = localStorage.getItem('player.customPlaylists');\r\n      return saved ? JSON.parse(saved) : [\r\n        { id: 'liked', name: 'Liked Songs', tracks: [], type: 'system' }\r\n      ];\r\n    } catch {\r\n      return [{ id: 'liked', name: 'Liked Songs', tracks: [], type: 'system' }];\r\n    }\r\n  });\r\n\r\n  // Recently Played State\r\n  const [recentlyPlayed, setRecentlyPlayed] = useState(() => {\r\n    try {\r\n      const saved = localStorage.getItem('player.recentlyPlayed');\r\n      return saved ? JSON.parse(saved) : [];\r\n    } catch { return []; }\r\n  });\r\n\r\n  const [playlist, setPlaylist] = useState(() => {\r\n    try {\r\n      const saved = localStorage.getItem('player.playlist');\r\n      return saved ? JSON.parse(saved) : [];\r\n    } catch { return []; }\r\n  });\r\n  const [currentIndex, setCurrentIndex] = useState(() => {\r\n    const saved = localStorage.getItem('player.currentIndex');\r\n    return saved ? parseInt(saved, 10) : 0;\r\n  });\r\n  const [isShuffled, setIsShuffled] = useState(() => {\r\n    const saved = localStorage.getItem('player.isShuffled');\r\n    return saved ? JSON.parse(saved) : false;\r\n  });\r\n  const [volume, setVolume] = useState(0.7);\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [playerReady, setPlayerReady] = useState(false);\r\n  const [toast, setToast] = useState({ show: false, message: \"\", type: \"success\" });\r\n\r\n  const playerRef = useRef(null);\r\n  const suggestionsRef = useRef(null);\r\n  const mainContentRef = useRef(null);\r\n\r\n  const showToast = (message, type = \"success\") => {\r\n    setToast({ show: true, message, type });\r\n    setTimeout(() => {\r\n      setToast({ show: false, message: \"\", type: \"success\" });\r\n    }, 3000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const initYouTubeAPI = () => {\r\n      if (window.YT && window.YT.Player) {\r\n        setPlayerReady(true);\r\n      } else {\r\n        if (!window.YT && !document.querySelector('script[src*=\"youtube.com/iframe_api\"]')) {\r\n          const tag = document.createElement('script');\r\n          tag.src = 'https://www.youtube.com/iframe_api';\r\n          const firstScriptTag = document.getElementsByTagName('script')[0];\r\n          firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\r\n        }\r\n        window.onYouTubeIframeAPIReady = () => setPlayerReady(true);\r\n      }\r\n    };\r\n    initYouTubeAPI();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (currentTrack && playerReady && currentTrack.youtube_id) {\r\n      initializePlayer();\r\n    }\r\n  }, [currentTrack, playerReady, initializePlayer]);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('player.currentTrack', JSON.stringify(currentTrack));\r\n    localStorage.setItem('player.currentIndex', String(currentIndex));\r\n    localStorage.setItem('player.playlist', JSON.stringify(playlist));\r\n    localStorage.setItem('player.isShuffled', JSON.stringify(isShuffled));\r\n    localStorage.setItem('player.customPlaylists', JSON.stringify(playlists));\r\n    localStorage.setItem('player.recentlyPlayed', JSON.stringify(recentlyPlayed));\r\n  }, [currentTrack, currentIndex, playlist, isShuffled, playlists, recentlyPlayed]);\r\n\r\n  useEffect(() => {\r\n    let interval;\r\n    if (isPlaying) {\r\n      interval = setInterval(() => {\r\n        try {\r\n          if (playerRef.current?.getCurrentTime) {\r\n            setCurrentTime(playerRef.current.getCurrentTime());\r\n          }\r\n        } catch { }\r\n      }, 500);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [isPlaying]);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (suggestionsRef.current && !suggestionsRef.current.contains(event.target)) {\r\n        setShowSuggestions(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchSuggestions = async () => {\r\n      if (searchQuery.trim().length < 2) {\r\n        setSuggestions([]);\r\n        return;\r\n      }\r\n      try {\r\n        const response = await fetch(`http://127.0.0.1:5001/suggestions?q=${encodeURIComponent(searchQuery)}`);\r\n        const data = await response.json();\r\n        setSuggestions(data);\r\n      } catch (error) {\r\n        console.error(\"Suggestions error:\", error);\r\n      }\r\n    };\r\n    const timer = setTimeout(fetchSuggestions, 300);\r\n    return () => clearTimeout(timer);\r\n  }, [searchQuery]);\r\n\r\n  useEffect(() => {\r\n    if (mainContentRef.current) {\r\n      mainContentRef.current.scrollTo({ top: 0, behavior: 'smooth' });\r\n    }\r\n  }, [activeView, selectedPlaylistId]);\r\n\r\n  const searchMusic = useCallback(async (query) => {\r\n    if (!query.trim()) return;\r\n    setSearchLoading(true);\r\n    setShowSuggestions(false);\r\n    setActiveView(\"search\");\r\n    try {\r\n      const response = await fetch('http://127.0.0.1:5001/search_music', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ query }),\r\n      });\r\n      const data = await response.json();\r\n      setSearchResults(data.tracks || []);\r\n    } catch {\r\n      showToast(\"Search failed\", \"error\");\r\n    } finally {\r\n      setSearchLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const loadPlaylistTracks = useCallback(async (query) => {\r\n    setSearchLoading(true);\r\n    try {\r\n      const response = await fetch('http://127.0.0.1:5001/search_music', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ query }),\r\n      });\r\n      const data = await response.json();\r\n      return data.tracks || [];\r\n    } catch (e) {\r\n      return [];\r\n    } finally {\r\n      setSearchLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const handlePlaylistClick = async (pl) => {\r\n    setSelectedPlaylistId(pl.id);\r\n    setActiveView('playlist');\r\n  };\r\n\r\n  const initializePlayer = useCallback(() => {\r\n    let container = document.getElementById('youtube-player');\r\n    if (!container) {\r\n      container = document.createElement('div');\r\n      container.id = 'youtube-player';\r\n      container.style.cssText = 'position: fixed; top: -9999px; left: -9999px; opacity: 0;';\r\n      document.body.appendChild(container);\r\n    }\r\n    if (playerRef.current) playerRef.current.destroy();\r\n\r\n    playerRef.current = new window.YT.Player(container, {\r\n      videoId: currentTrack.youtube_id,\r\n      playerVars: { autoplay: 1, controls: 0, modestbranding: 1, rel: 0 },\r\n      events: {\r\n        onReady: (e) => {\r\n          setDuration(e.target.getDuration());\r\n          e.target.setVolume(volume * 100);\r\n          e.target.playVideo();\r\n        },\r\n        onStateChange: (e) => {\r\n          if (e.data === window.YT.PlayerState.PLAYING) setIsPlaying(true);\r\n          else if (e.data === window.YT.PlayerState.PAUSED) setIsPlaying(false);\r\n          else if (e.data === window.YT.PlayerState.ENDED) {\r\n            setIsPlaying(false);\r\n            handleNext();\r\n          }\r\n        },\r\n        onError: () => {\r\n          handleNext(); // Skip if error\r\n        }\r\n      }\r\n    });\r\n  }, [currentTrack, volume]);\r\n\r\n  const handleNext = () => {\r\n    if (playlist.length === 0) return;\r\n    let nextIdx = isShuffled\r\n      ? Math.floor(Math.random() * playlist.length)\r\n      : (currentIndex + 1) % playlist.length;\r\n    setCurrentIndex(nextIdx);\r\n    setCurrentTrack(playlist[nextIdx]);\r\n  };\r\n\r\n  const handlePrevious = () => {\r\n    if (playlist.length === 0) return;\r\n    let prevIdx = (currentIndex - 1 + playlist.length) % playlist.length;\r\n    setCurrentIndex(prevIdx);\r\n    setCurrentTrack(playlist[prevIdx]);\r\n  };\r\n\r\n  const togglePlayPause = () => {\r\n    if (!playerRef.current) return;\r\n    isPlaying ? playerRef.current.pauseVideo() : playerRef.current.playVideo();\r\n  };\r\n\r\n  const handleProgressChange = (e) => {\r\n    const time = parseFloat(e.target.value);\r\n    setCurrentTime(time);\r\n    playerRef.current?.seekTo(time);\r\n  };\r\n\r\n  const formatTime = (s) => `${Math.floor(s / 60)}:${Math.floor(s % 60).toString().padStart(2, '0')}`;\r\n\r\n  const createPlaylist = () => {\r\n    const newPlaylist = {\r\n      id: Date.now().toString(),\r\n      name: `My Playlist #${playlists.length}`,\r\n      tracks: [],\r\n      type: 'custom'\r\n    };\r\n    setPlaylists([...playlists, newPlaylist]);\r\n    showToast(\"Playlist created\");\r\n  };\r\n\r\n  const addTrackToPlaylist = (playlistId, track) => {\r\n    setPlaylists(playlists.map(pl => {\r\n      if (pl.id === playlistId) {\r\n        if (pl.tracks.find(t => t.id === track.id)) {\r\n          showToast(\"Already in playlist\", \"info\");\r\n          return pl;\r\n        }\r\n        showToast(`Added to ${pl.name}`);\r\n        return { ...pl, tracks: [...pl.tracks, track] };\r\n      }\r\n      return pl;\r\n    }));\r\n  };\r\n\r\n  const removePlaylist = (id) => {\r\n    if (id === 'liked') return;\r\n    setPlaylists(playlists.filter(pl => pl.id !== id));\r\n    if (selectedPlaylistId === id) setActiveView('home');\r\n    showToast(\"Playlist removed\");\r\n  };\r\n\r\n  const playTrack = (track, newQueue = null) => {\r\n    // Add to History\r\n    setRecentlyPlayed(prev => {\r\n      const filtered = prev.filter(t => t.id !== track.id);\r\n      return [track, ...filtered].slice(0, 20);\r\n    });\r\n\r\n    if (newQueue) {\r\n      setPlaylist(newQueue);\r\n      const idx = newQueue.findIndex(t => t.id === track.id);\r\n      setCurrentIndex(idx >= 0 ? idx : 0);\r\n    } else {\r\n      if (!playlist.find(t => t.id === track.id)) {\r\n        setPlaylist([track, ...playlist]);\r\n        setCurrentIndex(0);\r\n      } else {\r\n        const idx = playlist.findIndex(t => t.id === track.id);\r\n        setCurrentIndex(idx);\r\n      }\r\n    }\r\n    setCurrentTrack(track);\r\n  };\r\n\r\n  const renderTrackItem = (track, index, queueContext = null) => (\r\n    <motion.div\r\n      key={`${track.id}-${index}`}\r\n      layout\r\n      initial={{ opacity: 0, x: -10 }}\r\n      animate={{ opacity: 1, x: 0 }}\r\n      className={`track-item ${currentTrack?.id === track.id ? 'active' : ''}`}\r\n      onClick={() => playTrack(track, queueContext)}\r\n    >\r\n      <div className=\"track-index\">\r\n        {currentTrack?.id === track.id && isPlaying ? (\r\n          <div className=\"music-bars mini\">\r\n            <span></span><span></span><span></span>\r\n          </div>\r\n        ) : index + 1}\r\n      </div>\r\n      <div style={{ display: 'flex', alignItems: 'center', gap: '12px', minWidth: 0 }}>\r\n        <img src={track.image} alt=\"\" className=\"track-image\" />\r\n        <div className=\"track-main-info\">\r\n          <div className=\"track-name\">{track.name}</div>\r\n          <div className=\"track-artist\">{track.artists?.join(', ')}</div>\r\n        </div>\r\n      </div>\r\n      <div className=\"track-album\">Single / Hyde Music</div>\r\n      <div style={{ display: 'flex', gap: '16px', alignItems: 'center', justifyContent: 'flex-end' }}>\r\n        <Plus\r\n          size={18}\r\n          className=\"hover:text-white\"\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            addTrackToPlaylist('liked', track);\r\n          }}\r\n        />\r\n        <Heart\r\n          size={18}\r\n          className={playlists.find(p => p.id === 'liked')?.tracks.some(t => t.id === track.id) ? 'text-red-500 fill-red-500' : ''}\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            addTrackToPlaylist('liked', track);\r\n          }}\r\n        />\r\n      </div>\r\n    </motion.div>\r\n  );\r\n\r\n  const getActivePlaylist = () => {\r\n    const custom = playlists.find(p => p.id === selectedPlaylistId);\r\n    if (custom) return custom;\r\n    const curated = CURATED_PLAYLISTS.find(p => p.id === selectedPlaylistId);\r\n    if (curated) return { ...curated, type: 'system' };\r\n    return null;\r\n  };\r\n\r\n  const selectedPlaylist = getActivePlaylist();\r\n\r\n  // Load tracks for system playlists on demand\r\n  const [systemTracks, setSystemTracks] = useState({});\r\n  useEffect(() => {\r\n    if (selectedPlaylist?.type === 'system' && selectedPlaylist.id !== 'liked' && !systemTracks[selectedPlaylist.id]) {\r\n      loadPlaylistTracks(selectedPlaylist.search).then(tracks => {\r\n        setSystemTracks(prev => ({ ...prev, [selectedPlaylist.id]: tracks }));\r\n      });\r\n    }\r\n  }, [selectedPlaylistId, selectedPlaylist, systemTracks, loadPlaylistTracks]);\r\n\r\n  const activeTracks = selectedPlaylist?.id === 'liked' ? selectedPlaylist.tracks :\r\n    (selectedPlaylist?.type === 'system' ? systemTracks[selectedPlaylist.id] || [] : selectedPlaylist?.tracks || []);\r\n\r\n  return (\r\n    <div className=\"hyde-music-container animate-fade\">\r\n      <nav className=\"hyde-sidebar\">\r\n        <div className=\"sidebar-nav\">\r\n          <div className=\"brand\" onClick={() => setActiveView('home')} style={{ cursor: 'pointer' }}>\r\n            <Music size={28} className=\"color-primary\" />\r\n            <h1>Hyde Music</h1>\r\n          </div>\r\n          <div className={`nav-item ${activeView === 'home' ? 'active' : ''}`} onClick={() => setActiveView('home')}>\r\n            <Home size={24} /> <span>Home</span>\r\n          </div>\r\n          <div className={`nav-item ${activeView === 'search' ? 'active' : ''}`} onClick={() => setActiveView('search')}>\r\n            <Search size={24} /> <span>Search</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"sidebar-library\">\r\n          <div className=\"library-header\">\r\n            <h3><Library size={24} /> <span>Your Library</span></h3>\r\n            <Plus size={20} className=\"plus-btn\" onClick={createPlaylist} />\r\n          </div>\r\n          <div className=\"sidebar-playlists\">\r\n            {playlists.map(pl => (\r\n              <div\r\n                key={pl.id}\r\n                className={`playlist-item ${selectedPlaylistId === pl.id && activeView === 'playlist' ? 'active-bg' : ''}`}\r\n                onClick={() => {\r\n                  setSelectedPlaylistId(pl.id);\r\n                  setActiveView('playlist');\r\n                }}\r\n              >\r\n                <div className=\"playlist-art\">\r\n                  {pl.id === 'liked' ? <Heart className=\"text-red-500 fill-red-500\" /> : <List size={24} />}\r\n                </div>\r\n                <div className=\"playlist-info\">\r\n                  <div className=\"playlist-name\">{pl.name}</div>\r\n                  <div className=\"playlist-meta\">Playlist ‚Ä¢ {pl.tracks.length} songs</div>\r\n                </div>\r\n                {pl.type !== 'system' && (\r\n                  <Trash2 size={16} className=\"text-dim hover:text-red-500\" onClick={(e) => { e.stopPropagation(); removePlaylist(pl.id); }} />\r\n                )}\r\n              </div>\r\n            ))}\r\n            <div className=\"sidebar-divider\"></div>\r\n            {CURATED_PLAYLISTS.map(pl => (\r\n              <div\r\n                key={pl.id}\r\n                className={`playlist-item ${selectedPlaylistId === pl.id && activeView === 'playlist' ? 'active-bg' : ''}`}\r\n                onClick={() => handlePlaylistClick(pl)}\r\n              >\r\n                <div className=\"playlist-art\" style={{ background: `linear-gradient(135deg, ${pl.color}, #000)` }}>\r\n                  <Music size={18} color=\"white\" />\r\n                </div>\r\n                <div className=\"playlist-info\">\r\n                  <div className=\"playlist-name\">{pl.name}</div>\r\n                  <div className=\"playlist-meta\">Curated Playlist</div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </nav>\r\n\r\n      <main className=\"hyde-main-content\" ref={mainContentRef}>\r\n        <header className=\"main-header\">\r\n          <div className=\"search-container\" ref={suggestionsRef}>\r\n            <Search size={20} className=\"search-icon\" />\r\n            <input\r\n              className=\"search-input\"\r\n              value={searchQuery}\r\n              onChange={(e) => { setSearchQuery(e.target.value); setShowSuggestions(true); }}\r\n              onFocus={() => { setShowSuggestions(true); setActiveView('search'); }}\r\n              onKeyDown={(e) => e.key === 'Enter' && searchMusic(searchQuery)}\r\n              placeholder=\"What do you want to listen to?\"\r\n            />\r\n            <AnimatePresence>\r\n              {showSuggestions && suggestions.length > 0 && (\r\n                <motion.div initial={{ opacity: 0, y: -10 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -10 }} className=\"suggestions-box\">\r\n                  {suggestions.map((s, i) => (\r\n                    <div key={i} className=\"suggestion-item\" onClick={() => { setSearchQuery(s); searchMusic(s); }}>\r\n                      <Search size={14} /> {s}\r\n                    </div>\r\n                  ))}\r\n                </motion.div>\r\n              )}\r\n            </AnimatePresence>\r\n          </div>\r\n          <AuthButton />\r\n        </header>\r\n\r\n        <section className=\"main-section\">\r\n          <AnimatePresence mode=\"wait\">\r\n            {activeView === 'home' && (\r\n              <motion.div\r\n                key=\"home\"\r\n                initial={{ opacity: 0, scale: 0.98 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                exit={{ opacity: 0, scale: 0.98 }}\r\n                transition={{ duration: 0.2 }}\r\n              >\r\n                <h2 className=\"section-title\">Good Evening</h2>\r\n                <div className=\"shelf-grid-simple\">\r\n                  {playlists.concat(CURATED_PLAYLISTS.slice(0, 3)).slice(0, 6).map(pl => (\r\n                    <div key={pl.id} className=\"simple-card glassy\" onClick={() => handlePlaylistClick(pl)}>\r\n                      <div className=\"simple-card-art\" style={pl.color ? { background: `linear-gradient(135deg, ${pl.color}, #000)` } : {}}>\r\n                        {pl.id === 'liked' ? <Heart size={20} className=\"text-red-500 fill-red-500\" /> : <Music size={20} color=\"white\" />}\r\n                      </div>\r\n                      <span>{pl.name}</span>\r\n                      <button className=\"simple-play-btn\"><Play fill=\"black\" size={16} /></button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                {recentlyPlayed.length > 0 && (\r\n                  <div className=\"shelf-section\">\r\n                    <h3 className=\"shelf-title\">Recently Played</h3>\r\n                    <div className=\"shelf-grid\">\r\n                      {recentlyPlayed.slice(0, 6).map((track) => (\r\n                        <div key={track.id} className=\"shelf-card\" onClick={() => playTrack(track, recentlyPlayed)}>\r\n                          <img src={track.image} alt=\"\" className=\"shelf-img\" />\r\n                          <div className=\"shelf-info\">\r\n                            <div className=\"shelf-name\">{track.name}</div>\r\n                            <div className=\"shelf-artist\">{track.artists?.[0]}</div>\r\n                          </div>\r\n                          <button className=\"shelf-play-btn\"><Play fill=\"black\" size={20} /></button>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"shelf-section\">\r\n                  <h3 className=\"shelf-title\">Curated For You</h3>\r\n                  <div className=\"shelf-grid\">\r\n                    {CURATED_PLAYLISTS.slice(0, 6).map((pl) => (\r\n                      <div key={pl.id} className=\"shelf-card\" onClick={() => handlePlaylistClick(pl)}>\r\n                        <div className=\"shelf-img-mock\" style={{ background: `linear-gradient(135deg, ${pl.color}, #000)` }}>\r\n                          <Music size={48} color=\"white\" opacity={0.3} />\r\n                        </div>\r\n                        <div className=\"shelf-info\">\r\n                          <div className=\"shelf-name\">{pl.name}</div>\r\n                          <div className=\"shelf-artist\">{pl.description}</div>\r\n                        </div>\r\n                        <button className=\"shelf-play-btn\"><Play fill=\"black\" size={20} /></button>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"shelf-section\">\r\n                  <h3 className=\"shelf-title\">Moods & Energy</h3>\r\n                  <div className=\"shelf-grid\">\r\n                    {CURATED_PLAYLISTS.slice(6, 12).map((pl) => (\r\n                      <div key={pl.id} className=\"shelf-card\" onClick={() => handlePlaylistClick(pl)}>\r\n                        <div className=\"shelf-img-mock\" style={{ background: `linear-gradient(135deg, ${pl.color}, #000)` }}>\r\n                          <Sparkles size={48} color=\"white\" opacity={0.3} />\r\n                        </div>\r\n                        <div className=\"shelf-info\">\r\n                          <div className=\"shelf-name\">{pl.name}</div>\r\n                          <div className=\"shelf-artist\">{pl.description}</div>\r\n                        </div>\r\n                        <button className=\"shelf-play-btn\"><Play fill=\"black\" size={20} /></button>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n\r\n            {activeView === 'search' && (\r\n              <motion.div\r\n                key=\"search\"\r\n                initial={{ opacity: 0, x: 20 }}\r\n                animate={{ opacity: 1, x: 0 }}\r\n                exit={{ opacity: 0, x: -20 }}\r\n                transition={{ duration: 0.2 }}\r\n              >\r\n                <h2 className=\"section-title\">{searchQuery ? `Results for \"${searchQuery}\"` : 'Browse All'}</h2>\r\n                {!searchQuery && (\r\n                  <div className=\"genre-grid\">\r\n                    {CURATED_PLAYLISTS.map(pl => (\r\n                      <div key={pl.id} className=\"genre-card\" style={{ background: pl.color }} onClick={() => handlePlaylistClick(pl)}>\r\n                        <span>{pl.name}</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n                <div className=\"track-list\">\r\n                  {searchResults.map((track, i) => renderTrackItem(track, i, searchResults))}\r\n                  {searchLoading && <div style={{ textAlign: 'center', padding: '20px' }}><Sparkles className=\"animate-spin\" /></div>}\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n\r\n            {activeView === 'playlist' && selectedPlaylist && (\r\n              <motion.div\r\n                key={`playlist-${selectedPlaylistId}`}\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -20 }}\r\n                transition={{ duration: 0.2 }}\r\n              >\r\n                <div className=\"playlist-header-detail\" style={{ background: `linear-gradient(to bottom, ${selectedPlaylist.color || '#ff0000'}44 0%, transparent 100%)` }}>\r\n                  <div className=\"playlist-art-large\" style={selectedPlaylist.color ? { background: `linear-gradient(135deg, ${selectedPlaylist.color}, #000)` } : {}}>\r\n                    {selectedPlaylist.id === 'liked' ? <Heart size={80} className=\"text-red-500 fill-red-500\" /> : <Music size={80} color=\"white\" />}\r\n                  </div>\r\n                  <div className=\"playlist-info-large\">\r\n                    <div className=\"playlist-label\">{selectedPlaylist.type === 'system' ? 'System Curation' : 'Playlist'}</div>\r\n                    <h1 className=\"playlist-name-large\">{selectedPlaylist.name}</h1>\r\n                    <div className=\"playlist-stats\">\r\n                      <span className=\"owner\">Hyde Music</span> ‚Ä¢ {activeTracks.length} songs\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"track-list\" style={{ marginTop: '24px' }}>\r\n                  {searchLoading && <div style={{ textAlign: 'center', padding: '40px' }}><Sparkles className=\"animate-spin\" /> Fetching curated beats...</div>}\r\n                  {activeTracks.map((track, i) => renderTrackItem(track, i, activeTracks))}\r\n                  {!searchLoading && activeTracks.length === 0 && (\r\n                    <div style={{ color: 'var(--color-text-secondary)', textAlign: 'center', padding: '60px 0' }}>\r\n                      <p>No tracks found for this curation.</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n        </section>\r\n      </main>\r\n\r\n      <footer className=\"hyde-player-bar\">\r\n        <div className=\"player-left\">\r\n          {currentTrack && (\r\n            <>\r\n              <motion.img\r\n                key={currentTrack.id}\r\n                initial={{ opacity: 0, scale: 0.8 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                src={currentTrack.image}\r\n                className=\"player-track-image\"\r\n                alt=\"\"\r\n              />\r\n              <div className=\"player-track-info\">\r\n                <div className=\"player-track-name\">{currentTrack.name}</div>\r\n                <div className=\"player-track-artist\">{currentTrack.artists?.[0]}</div>\r\n              </div>\r\n              <Heart\r\n                size={18}\r\n                className={`ml-4 cursor-pointer transition-colors ${playlists.find(p => p.id === 'liked')?.tracks.some(t => t.id === currentTrack.id) ? 'text-red-500 fill-red-500' : 'hover:text-white'}`}\r\n                onClick={() => addTrackToPlaylist('liked', currentTrack)}\r\n              />\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"player-center\">\r\n          <div className=\"player-controls\">\r\n            <Shuffle\r\n              size={18}\r\n              className={isShuffled ? 'color-primary' : 'hover:text-white'}\r\n              onClick={() => setIsShuffled(!isShuffled)}\r\n            />\r\n            <SkipBack size={20} className=\"hover:text-white\" onClick={handlePrevious} />\r\n            <button className=\"play-button\" onClick={togglePlayPause}>\r\n              {isPlaying ? <Pause size={20} fill=\"#000\" /> : <Play size={20} fill=\"#000\" style={{ marginLeft: '2px' }} />}\r\n            </button>\r\n            <SkipForward size={20} className=\"hover:text-white\" onClick={handleNext} />\r\n          </div>\r\n          <div className=\"progress-bar-container\">\r\n            <span>{formatTime(currentTime)}</span>\r\n            <input\r\n              type=\"range\"\r\n              className=\"progress-slider\"\r\n              min=\"0\" max={duration}\r\n              value={currentTime}\r\n              onChange={handleProgressChange}\r\n            />\r\n            <span>{formatTime(duration)}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"player-right\">\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '16px', justifyContent: 'flex-end', color: 'var(--color-text-secondary)' }}>\r\n            <Sparkles size={18} className=\"cursor-pointer hover:text-white\" onClick={() => showToast(\"AI Recommendation coming soon!\")} />\r\n            <List size={18} className=\"cursor-pointer hover:text-white\" onClick={() => showToast(\"Next in queue...\")} />\r\n            <div className=\"volume-control-wrapper\">\r\n              {isMuted || volume === 0 ? <VolumeX size={18} className=\"hover:text-white\" onClick={() => { setIsMuted(false); playerRef.current?.setVolume(volume * 100); }} /> :\r\n                volume < 0.3 ? <Volume2 size={18} className=\"hover:text-white\" /> :\r\n                  volume < 0.7 ? <Volume2 size={18} className=\"hover:text-white\" /> :\r\n                    <Volume2 size={18} className=\"hover:text-white\" />}\r\n              <input\r\n                type=\"range\"\r\n                className=\"progress-slider mini\"\r\n                min=\"0\" max=\"1\" step=\"0.01\"\r\n                value={isMuted ? 0 : volume}\r\n                onChange={(e) => {\r\n                  const v = parseFloat(e.target.value);\r\n                  setVolume(v);\r\n                  playerRef.current?.setVolume(v * 100);\r\n                  if (v > 0) setIsMuted(false);\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n\r\n      <AnimatePresence>\r\n        {toast.show && (\r\n          <motion.div initial={{ opacity: 0, scale: 0.9, y: 20 }} animate={{ opacity: 1, scale: 1, y: 0 }} exit={{ opacity: 0, scale: 0.9, y: 20 }} className=\"toast\">\r\n            {toast.type === 'success' ? <Check size={16} /> : <X size={16} />}\r\n            {toast.message}\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\PROJECTS\\HYDE-MUSIC\\DESKTOP(FLASK + REACT)\\VibeEra\\Frontend\\Chatbot-Main\\src\\Components\\MusicPlayer.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\PROJECTS\\HYDE-MUSIC\\DESKTOP(FLASK + REACT)\\VibeEra\\Frontend\\Chatbot-Main\\src\\Components\\Sidebar.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'motion' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":2,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":16,"suggestions":[{"messageId":"removeVar","data":{"varName":"motion"},"fix":{"range":[69,76],"text":""},"desc":"Remove unused variable 'motion'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'shuffleQueue' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":25,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":25,"endColumn":22,"suggestions":[{"messageId":"removeVar","data":{"varName":"shuffleQueue"},"fix":{"range":[1126,1138],"text":""},"desc":"Remove unused variable 'shuffleQueue'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'currentShuffleIndex' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":26,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":26,"endColumn":29,"suggestions":[{"messageId":"removeVar","data":{"varName":"currentShuffleIndex"},"fix":{"range":[1241,1260],"text":""},"desc":"Remove unused variable 'currentShuffleIndex'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'pressTimer' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":37,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":37,"endColumn":20,"suggestions":[{"messageId":"removeVar","data":{"varName":"pressTimer"},"fix":{"range":[1743,1753],"text":""},"desc":"Remove unused variable 'pressTimer'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'setPressTimer' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":37,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":37,"endColumn":35,"suggestions":[{"messageId":"removeVar","data":{"varName":"setPressTimer"},"fix":{"range":[1753,1768],"text":""},"desc":"Remove unused variable 'setPressTimer'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'setIsSeeking' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":38,"column":21,"nodeType":"Identifier","messageId":"unusedVar","endLine":38,"endColumn":33,"suggestions":[{"messageId":"removeVar","data":{"varName":"setIsSeeking"},"fix":{"range":[1806,1820],"text":""},"desc":"Remove unused variable 'setIsSeeking'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'queuePage' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":45,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":45,"endColumn":19,"suggestions":[{"messageId":"removeVar","data":{"varName":"queuePage"},"fix":{"range":[2210,2219],"text":""},"desc":"Remove unused variable 'queuePage'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'setQueuePage' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":45,"column":21,"nodeType":"Identifier","messageId":"unusedVar","endLine":45,"endColumn":33,"suggestions":[{"messageId":"removeVar","data":{"varName":"setQueuePage"},"fix":{"range":[2219,2233],"text":""},"desc":"Remove unused variable 'setQueuePage'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'hasMoreSongs' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":46,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":46,"endColumn":22,"suggestions":[{"messageId":"removeVar","data":{"varName":"hasMoreSongs"},"fix":{"range":[2259,2271],"text":""},"desc":"Remove unused variable 'hasMoreSongs'."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'initializePlayer'. Either include it or remove the dependency array.","line":93,"column":6,"nodeType":"ArrayExpression","endLine":93,"endColumn":33,"suggestions":[{"desc":"Update the dependencies array to be: [currentTrack, initializePlayer, playerReady]","fix":{"range":[3815,3842],"text":"[currentTrack, initializePlayer, playerReady]"}}]},{"ruleId":"no-empty","severity":2,"message":"Empty block statement.","line":116,"column":94,"nodeType":"BlockStatement","messageId":"unexpected","endLine":116,"endColumn":96,"suggestions":[{"messageId":"suggestComment","data":{"type":"block"},"fix":{"range":[4560,4560],"text":" /* empty */ "},"desc":"Add comment inside empty block statement."}]},{"ruleId":"no-empty","severity":2,"message":"Empty block statement.","line":121,"column":86,"nodeType":"BlockStatement","messageId":"unexpected","endLine":121,"endColumn":88,"suggestions":[{"messageId":"suggestComment","data":{"type":"block"},"fix":{"range":[4842,4842],"text":" /* empty */ "},"desc":"Add comment inside empty block statement."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'fetchRelatedSongs' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":169,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":169,"endColumn":26,"suggestions":[{"messageId":"removeVar","data":{"varName":"fetchRelatedSongs"},"fix":{"range":[6226,7096],"text":""},"desc":"Remove unused variable 'fetchRelatedSongs'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'toggleRepeat' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":462,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":462,"endColumn":21,"suggestions":[{"messageId":"removeVar","data":{"varName":"toggleRepeat"},"fix":{"range":[15615,16028],"text":""},"desc":"Remove unused variable 'toggleRepeat'."}]},{"ruleId":"no-undef","severity":2,"message":"'setRepeatMode' is not defined.","line":466,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":466,"endColumn":18}],"suppressedMessages":[],"errorCount":14,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useRef, useEffect } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { X, Search, Play, Pause, SkipBack, SkipForward, Music, Shuffle, Loader, List, Plus, Volume2, VolumeX, Check, Sparkles } from \"lucide-react\";\n\nexport default function Sidebar({ isOpen, onClose }) {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [currentTrack, setCurrentTrack] = useState(() => {\n    try {\n      const saved = localStorage.getItem('player.currentTrack');\n      return saved ? JSON.parse(saved) : null;\n    } catch { return null; }\n  });\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchLoading, setSearchLoading] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [playlist, setPlaylist] = useState(() => {\n    try {\n      const saved = localStorage.getItem('player.playlist');\n      return saved ? JSON.parse(saved) : [];\n    } catch { return []; }\n  });\n  const [shuffleQueue, setShuffleQueue] = useState(() => []); // deprecated; AI suggestions fill playlist directly\n  const [currentShuffleIndex, setCurrentShuffleIndex] = useState(0);\n  const [currentIndex, setCurrentIndex] = useState(() => {\n    const saved = localStorage.getItem('player.currentIndex');\n    return saved ? parseInt(saved, 10) : 0;\n  });\n  const [isShuffled, setIsShuffled] = useState(() => {\n    const saved = localStorage.getItem('player.isShuffled');\n    return saved ? JSON.parse(saved) : false;\n  });\n  const [repeatMode] = useState('off');\n  const [showQueue, setShowQueue] = useState(false);\n  const [pressTimer, setPressTimer] = useState(null);\n  const [isSeeking, setIsSeeking] = useState(false);\n  const [volume, setVolume] = useState(0.7);\n  const [isMuted, setIsMuted] = useState(false);\n  const [previousVolume, setPreviousVolume] = useState(0.7);\n  const [playerReady, setPlayerReady] = useState(false);\n  const [toast, setToast] = useState({ show: false, message: \"\", type: \"success\" });\n  const [isLoadingQueue, setIsLoadingQueue] = useState(false);\n  const [queuePage, setQueuePage] = useState(0);\n  const [hasMoreSongs, setHasMoreSongs] = useState(true);\n\n  const playerRef = useRef(null);\n  const progressRef = useRef(null);\n\n  // Toast notification function\n  const showToast = (message, type = \"success\") => {\n    setToast({ show: true, message, type });\n    setTimeout(() => {\n      setToast({ show: false, message: \"\", type: \"success\" });\n    }, 3000);\n  };\n\n  // Initialize YouTube API when component mounts\n  useEffect(() => {\n    const initYouTubeAPI = () => {\n      if (window.YT && window.YT.Player) {\n        setPlayerReady(true);\n      } else {\n        // Load YouTube API if not already loaded\n        if (!window.YT && !document.querySelector('script[src*=\"youtube.com/iframe_api\"]')) {\n          const tag = document.createElement('script');\n          tag.src = 'https://www.youtube.com/iframe_api';\n          const firstScriptTag = document.getElementsByTagName('script')[0];\n          firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n        }\n        \n        // Set up callback\n        window.onYouTubeIframeAPIReady = () => {\n          setPlayerReady(true);\n        };\n      }\n    };\n\n    // Small delay to ensure DOM is ready\n    const timer = setTimeout(initYouTubeAPI, 100);\n    return () => clearTimeout(timer);\n  }, []);\n\n  // Initialize player when track changes\n  useEffect(() => {\n    if (currentTrack && playerReady && currentTrack.youtube_id) {\n      const timer = setTimeout(() => {\n        initializePlayer();\n      }, 200); // Small delay to prevent race conditions\n      return () => clearTimeout(timer);\n    }\n  }, [currentTrack, playerReady]);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      try {\n        if (playerRef.current && typeof playerRef.current.destroy === 'function') {\n          playerRef.current.destroy();\n          playerRef.current = null;\n        }\n        // Clean up container\n        const container = document.getElementById('youtube-player');\n        if (container && container.parentNode) {\n          container.parentNode.removeChild(container);\n        }\n      } catch (e) {\n        console.warn('Player cleanup failed during unmount:', e);\n      }\n    };\n  }, []);\n\n  // Persist core player state\n  useEffect(() => {\n    try { localStorage.setItem('player.currentTrack', JSON.stringify(currentTrack)); } catch {}\n  }, [currentTrack]);\n  useEffect(() => { localStorage.setItem('player.currentIndex', String(currentIndex)); }, [currentIndex]);\n  // currentShuffleIndex no longer persisted\n  useEffect(() => {\n    try { localStorage.setItem('player.playlist', JSON.stringify(playlist)); } catch {}\n  }, [playlist]);\n  // shuffleQueue no longer persisted\n  useEffect(() => { localStorage.setItem('player.isShuffled', JSON.stringify(isShuffled)); }, [isShuffled]);\n  // repeatMode removed from UI; keep value static\n\n  // Update progress\n  useEffect(() => {\n    let interval;\n    if (isPlaying && !isSeeking) {\n      interval = setInterval(() => {\n        try {\n          const time = playerRef.current.getCurrentTime();\n          if (time !== undefined) {\n            setCurrentTime(time);\n          }\n        } catch (error) {\n          console.error('Error getting current time:', error);\n        }\n      }, 1000);\n    }\n    return () => clearInterval(interval);\n  }, [isPlaying, isSeeking]);\n\n  const searchMusic = async (query) => {\n    if (!query.trim()) return;\n    \n    setSearchLoading(true);\n    try {\n      const response = await fetch('http://127.0.0.1:5001/search_music', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ query }),\n      });\n\n      if (!response.ok) throw new Error('Search failed');\n\n      const data = await response.json();\n      setSearchResults(data.tracks || []);\n    } catch (error) {\n      console.error('Search error:', error);\n      setSearchResults([]);\n      showToast(\"Search failed. Please try again.\", \"error\");\n    } finally {\n      setSearchLoading(false);\n    }\n  };\n\n  const fetchRelatedSongs = async (trackName, artistName, page = 0, limit = 5) => {\n    try {\n      const response = await fetch('http://127.0.0.1:5001/get_related_songs', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ \n          track_name: trackName, \n          artist_name: artistName,\n          page: page,\n          limit: limit\n        }),\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch related songs');\n\n      const data = await response.json();\n      return {\n        tracks: data.tracks?.filter(song => song.youtube_id) || [],\n        hasMore: data.has_more || false,\n        totalAvailable: data.total_available || 0\n      };\n    } catch (error) {\n      console.error('Related songs error:', error);\n      return { tracks: [], hasMore: false, totalAvailable: 0 };\n    }\n  };\n\n  const loadShuffleQueue = async (trackName, artistName) => {\n    setIsLoadingQueue(true);\n    try {\n      const response = await fetch('http://127.0.0.1:5001/get_ai_recommendations', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ \n          song_name: trackName || currentTrack?.name || '',\n          artist_name: artistName || (currentTrack?.artists ? currentTrack.artists[0] : '') || ''\n        }),\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch AI recommendations');\n\n      const data = await response.json();\n      const aiRecommendations = data.tracks || [];\n\n      // Merge into visible playlist (unique)\n      setPlaylist(prev => {\n        const existingIds = new Set(prev.map(t => t.id));\n        const merged = [...prev];\n        aiRecommendations.forEach(t => { if (t && t.id && !existingIds.has(t.id)) merged.push(t); });\n        return merged;\n      });\n      setHasMoreSongs(false);\n      \n      // Show success message with AI indication\n      showToast(`AI recommendations ready with ${aiRecommendations.length} songs!`, \"success\");\n      return aiRecommendations;\n    } catch (error) {\n      console.error('Error loading AI recommendations:', error);\n      showToast(\"Failed to load AI recommendations\", \"error\");\n      return [];\n    } finally {\n      setIsLoadingQueue(false);\n    }\n  };\n\n  const toggleShuffle = async () => {\n    const newShuffleState = !isShuffled;\n    setIsShuffled(newShuffleState);\n    \n    if (!newShuffleState) {\n      setShuffleQueue([]);\n      setCurrentShuffleIndex(0);\n      showToast(\"Shuffle disabled\", \"info\");\n    }\n  };\n\n  const loadAISuggestions = async () => {\n    if (!currentTrack) {\n      showToast(\"Play a song first to get AI suggestions\", \"info\");\n      return;\n    }\n    // Load AI suggestions without interrupting current playback\n    await loadShuffleQueue(currentTrack.name, currentTrack.artists[0]);\n  };\n\n  const handleNext = () => {\n    const totalTracks = playlist.length;\n    if (totalTracks === 0) return;\n    if (isShuffled) {\n      let nextIndex = currentIndex;\n      if (totalTracks > 1) {\n        while (nextIndex === currentIndex) {\n          nextIndex = Math.floor(Math.random() * totalTracks);\n        }\n      }\n      setCurrentIndex(nextIndex);\n      setCurrentTrack(playlist[nextIndex]);\n      return;\n    }\n    const nextIndex = (currentIndex + 1) % totalTracks;\n    setCurrentIndex(nextIndex);\n    setCurrentTrack(playlist[nextIndex]);\n  };\n\n  const handlePrevious = () => {\n    const totalTracks = playlist.length;\n    if (totalTracks === 0) return;\n    if (isShuffled) {\n      let prevIndex = currentIndex;\n      if (totalTracks > 1) {\n        while (prevIndex === currentIndex) {\n          prevIndex = Math.floor(Math.random() * totalTracks);\n        }\n      }\n      setCurrentIndex(prevIndex);\n      setCurrentTrack(playlist[prevIndex]);\n      return;\n    }\n    const prevIndex = currentIndex === 0 ? totalTracks - 1 : currentIndex - 1;\n    setCurrentIndex(prevIndex);\n    setCurrentTrack(playlist[prevIndex]);\n  };\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    searchMusic(searchQuery);\n  };\n\n  const playTrack = (track, index = 0) => {\n    console.log('Playing track:', track.name, 'YouTube ID:', track.youtube_id);\n    \n    if (!track.youtube_id) {\n      console.warn('No YouTube ID available for track:', track.name);\n      showToast(\"This track is not available for playback\", \"error\");\n      return;\n    }\n\n    setCurrentTrack(track);\n    setCurrentIndex(index);\n    setIsLoading(true);\n    \n    if (!playlist.find(t => t.id === track.id)) {\n      setPlaylist(prev => [...prev, track]);\n    }\n  };\n\n  const initializePlayer = () => {\n    // Create container completely outside React's DOM tree\n    let container = document.getElementById('youtube-player');\n    if (!container) {\n      container = document.createElement('div');\n      container.id = 'youtube-player';\n      container.style.cssText = 'position: fixed; top: -9999px; left: -9999px; width: 1px; height: 1px; opacity: 0; pointer-events: none; z-index: -9999;';\n      // Append directly to body, not to any React-managed element\n      document.body.appendChild(container);\n    }\n\n    // Destroy previous player safely\n    try {\n      if (playerRef.current && typeof playerRef.current.destroy === 'function') {\n        playerRef.current.destroy();\n        playerRef.current = null;\n      }\n    } catch (e) {\n      console.warn('Player destroy failed:', e);\n    }\n\n    // Ensure we have a valid YouTube ID\n    if (!currentTrack?.youtube_id) {\n      console.warn('No YouTube ID available for track:', currentTrack?.name);\n      setIsLoading(false);\n      return;\n    }\n\n    setIsLoading(true);\n    \n    try {\n      playerRef.current = new window.YT.Player(container, {\n        height: '1',\n        width: '1',\n        videoId: currentTrack.youtube_id,\n        playerVars: {\n          autoplay: 1,\n          controls: 0,\n          disablekb: 1,\n          fs: 0,\n          modestbranding: 1,\n          rel: 0,\n          showinfo: 0,\n          start: 0,\n          origin: window.location.origin,\n          enablejsapi: 1\n        },\n        events: {\n          onReady: (event) => {\n            console.log('YouTube player ready');\n            try {\n              const duration = event.target.getDuration();\n              setDuration(duration > 0 ? duration : 180);\n              event.target.setVolume(Math.round(volume * 100));\n              setIsLoading(false);\n              event.target.playVideo();\n            } catch (e) {\n              console.error('Player ready error:', e);\n              setIsLoading(false);\n            }\n          },\n          onStateChange: (event) => {\n            try {\n              if (event.data === window.YT.PlayerState.PLAYING) {\n                setIsPlaying(true);\n                setIsLoading(false);\n              } else if (event.data === window.YT.PlayerState.PAUSED) {\n                setIsPlaying(false);\n              } else if (event.data === window.YT.PlayerState.ENDED) {\n                if (repeatMode === 'one') {\n                  setTimeout(() => {\n                    if (playerRef.current) {\n                      try {\n                        playerRef.current.seekTo(0);\n                        playerRef.current.playVideo();\n                        setCurrentTime(0);\n                      } catch (e) {\n                        console.error('Repeat error:', e);\n                      }\n                    }\n                  }, 100);\n                } else if (repeatMode === 'all') {\n                  handleNext();\n                } else {\n                  const totalTracks = playlist.length;\n                  const currentIdx = currentIndex;\n                  \n                  if (currentIdx < totalTracks - 1) {\n                    handleNext();\n                  } else {\n                    setIsPlaying(false);\n                  }\n                }\n              } else if (event.data === window.YT.PlayerState.BUFFERING) {\n                setIsLoading(true);\n              }\n            } catch (e) {\n              console.error('State change error:', e);\n            }\n          },\n          onError: (event) => {\n            console.error('YouTube player error:', event.data);\n            setIsLoading(false);\n            setIsPlaying(false);\n            showToast(\"Failed to load video. Trying next track...\", \"error\");\n            \n            const totalTracks = playlist.length;\n            if (totalTracks > 1) {\n              setTimeout(() => {\n                handleNext();\n              }, 1000);\n            }\n          }\n        }\n      });\n    } catch (error) {\n      console.error('Failed to initialize YouTube player:', error);\n      setIsLoading(false);\n      showToast(\"YouTube player initialization failed\", \"error\");\n    }\n  };\n\n  const togglePlayPause = () => {\n    if (!playerRef.current) return;\n    \n    try {\n      if (isPlaying) {\n        playerRef.current.pauseVideo();\n      } else {\n        playerRef.current.playVideo();\n      }\n    } catch (error) {\n      console.error('Error toggling play/pause:', error);\n    }\n  };\n\n  const handleProgressClick = (e) => {\n    if (!playerRef.current || !progressRef.current) return;\n    \n    const rect = progressRef.current.getBoundingClientRect();\n    const clickX = e.clientX - rect.left;\n    const newTime = (clickX / rect.width) * duration;\n    \n    playerRef.current.seekTo(newTime);\n    setCurrentTime(newTime);\n  };\n\n  const toggleRepeat = () => {\n    const modes = ['off', 'all', 'one'];\n    const currentModeIndex = modes.indexOf(repeatMode);\n    const nextMode = modes[(currentModeIndex + 1) % modes.length];\n    setRepeatMode(nextMode);\n    \n    const modeMessages = {\n      'off': 'Repeat disabled',\n      'all': 'Repeat all enabled',\n      'one': 'Repeat one enabled'\n    };\n    showToast(modeMessages[nextMode], \"info\");\n  };\n\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const addToPlaylist = (track) => {\n    if (!playlist.find(t => t.id === track.id)) {\n      setPlaylist(prev => [...prev, track]);\n      showToast(`\"${track.name}\" added to queue!`, \"success\");\n    } else {\n      showToast(`\"${track.name}\" is already in queue`, \"info\");\n    }\n  };\n\n  const removeFromPlaylist = (trackId) => {\n    setPlaylist(prev => prev.filter(t => t.id !== trackId));\n    showToast(\"Track removed from queue\", \"info\");\n  };\n\n  const toggleMute = () => {\n    if (isMuted) {\n      setVolume(previousVolume);\n      setIsMuted(false);\n      if (playerRef.current) {\n        playerRef.current.setVolume(previousVolume * 100);\n      }\n    } else {\n      setPreviousVolume(volume);\n      setVolume(0);\n      setIsMuted(true);\n      if (playerRef.current) {\n        playerRef.current.setVolume(0);\n      }\n    }\n  };\n\n  const handleVolumeChange = (e) => {\n    const newVolume = parseFloat(e.target.value);\n    setVolume(newVolume);\n    setIsMuted(newVolume === 0);\n    if (playerRef.current) {\n      playerRef.current.setVolume(newVolume * 100);\n    }\n  };\n\n  return (\n    <>\n      {/* Toast Notification */}\n      <AnimatePresence>\n        {toast.show && (\n          <motion.div\n            initial={{ opacity: 0, y: -50, x: 50 }}\n            animate={{ opacity: 1, y: 0, x: 0 }}\n            exit={{ opacity: 0, y: -50, x: 50 }}\n            className=\"toast-notification\"\n            style={{\n              position: 'fixed',\n              top: '20px',\n              right: '20px',\n              zIndex: 1000,\n              background: toast.type === 'error' \n                ? 'linear-gradient(135deg, #dc2626, #991b1b)' \n                : toast.type === 'info' \n                ? 'linear-gradient(135deg, #7c3aed, #5b21b6)' \n                : 'linear-gradient(135deg, #8b5cf6, #7c3aed)',\n              color: 'white',\n              padding: '12px 16px',\n              borderRadius: '12px',\n              boxShadow: '0 8px 32px rgba(139, 92, 246, 0.3)',\n              border: '1px solid rgba(255, 255, 255, 0.1)',\n              backdropFilter: 'blur(10px)',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              maxWidth: '300px',\n              fontSize: '14px',\n              fontWeight: '500'\n            }}\n          >\n            <Check size={16} />\n            {toast.message}\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Backdrop */}\n      <AnimatePresence>\n        {isOpen && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            className=\"sidebar-backdrop\"\n            onClick={onClose}\n          />\n        )}\n      </AnimatePresence>\n\n      {/* Sidebar */}\n      <motion.div\n        initial={{ x: 420 }}\n        animate={{ x: isOpen ? 0 : 420 }}\n        transition={{ type: \"spring\", stiffness: 300, damping: 30 }}\n        className=\"sidebar\"\n      >\n        {/* Header */}\n        <div className=\"sidebar-section\">\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\n            <h3 style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n              <Music size={20} />\n              Music Player\n              {!playerReady && <span style={{ fontSize: '0.7rem', color: '#888' }}>(Loading...)</span>}\n            </h3>\n            <button onClick={onClose} className=\"menu-button\">\n              <X size={20} />\n            </button>\n          </div>\n\n          {/* Search */}\n          <form onSubmit={handleSearch} style={{ display: 'flex', gap: '0.5rem', marginBottom: '1rem' }}>\n            <input\n              type=\"text\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              placeholder=\"Search for music...\"\n              className=\"search-input\"\n              style={{ flex: 1 }}\n            />\n            <button type=\"submit\" className=\"menu-button\" disabled={searchLoading}>\n              {searchLoading ? <Loader size={16} className=\"animate-spin\" /> : <Search size={16} />}\n            </button>\n          </form>\n        </div>\n\n        {/* Current Track */}\n        {currentTrack && (\n          <div className=\"sidebar-section\">\n            <h3>Now Playing</h3>\n            <div className=\"current-track\">\n              <img \n                src={currentTrack.image || '/api/placeholder/60/60'} \n                alt={currentTrack.name}\n                style={{ width: '60px', height: '60px', borderRadius: '8px' }}\n              />\n              <div style={{ flex: 1, minWidth: 0 }}>\n                <div style={{ fontWeight: '500', overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>\n                  {currentTrack.name}\n                </div>\n                <div style={{ fontSize: '0.875rem', color: 'rgba(255, 255, 255, 0.7)', overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>\n                  {currentTrack.artists?.join(', ') || 'Unknown Artist'}\n                </div>\n                {!currentTrack.youtube_id && (\n                  <div style={{ fontSize: '0.75rem', color: '#ff6b6b', marginTop: '4px' }}>\n                    No playable version found\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Progress Bar */}\n            <div \n              ref={progressRef}\n              className=\"progress-bar\"\n              onClick={handleProgressClick}\n              style={{ \n                height: '4px', \n                backgroundColor: 'rgba(255, 255, 255, 0.2)', \n                borderRadius: '2px', \n                cursor: 'pointer',\n                margin: '1rem 0'\n              }}\n            >\n              <div \n                style={{ \n                  height: '100%', \n                  backgroundColor: '#7c3aed', \n                  borderRadius: '2px',\n                  width: `${duration ? (currentTime / duration) * 100 : 0}%`,\n                  transition: isSeeking ? 'none' : 'width 0.1s ease'\n                }}\n              />\n            </div>\n\n            {/* Time Display */}\n            <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: '0.75rem', color: 'rgba(255, 255, 255, 0.7)' }}>\n              <span>{formatTime(currentTime)}</span>\n              <span>{formatTime(duration)}</span>\n            </div>\n\n            {/* Controls */}\n            <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', gap: '1rem', margin: '1rem 0' }}>\n              <button \n                type=\"button\"\n                onClick={toggleShuffle} \n                className={`menu-button ${isShuffled ? 'active' : ''}`}\n                disabled={isLoadingQueue}\n                style={{ opacity: isLoadingQueue ? 0.5 : 1 }}\n                title=\"Shuffle queue\"\n              >\n                {isLoadingQueue ? <Loader size={16} className=\"animate-spin\" /> : <Shuffle size={16} />}\n              </button>\n              <button type=\"button\" onClick={handlePrevious} className=\"menu-button\" title=\"Previous\">\n                <SkipBack size={16} />\n              </button>\n              <button \n                type=\"button\"\n                onClick={togglePlayPause} \n                className=\"menu-button\" \n                disabled={isLoading || !currentTrack?.youtube_id}\n                style={{ opacity: (!currentTrack?.youtube_id) ? 0.5 : 1 }}\n                title={isPlaying ? 'Pause' : 'Play'}\n              >\n                {isLoading ? <Loader size={20} className=\"animate-spin\" /> : isPlaying ? <Pause size={20} /> : <Play size={20} />}\n              </button>\n              <button type=\"button\" onClick={handleNext} className=\"menu-button\" title=\"Next\">\n                <SkipForward size={16} />\n              </button>\n              <button \n                type=\"button\"\n                onClick={loadAISuggestions} \n                className=\"menu-button\"\n                title=\"This button is used to add 25 songs by ai suggession from the song which is currently playing\"\n                disabled={isLoadingQueue}\n                style={{ opacity: isLoadingQueue ? 0.6 : 1 }}\n              >\n                {isLoadingQueue ? <Loader size={16} className=\"animate-spin\" /> : <Sparkles size={16} />}\n              </button>\n            </div>\n\n            {/* Volume Control */}\n            <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n              <button type=\"button\" onClick={toggleMute} className=\"menu-button\">\n                {isMuted || volume === 0 ? <VolumeX size={16} /> : <Volume2 size={16} />}\n              </button>\n              <input\n                type=\"range\"\n                min=\"0\"\n                max=\"1\"\n                step=\"0.01\"\n                value={volume}\n                onChange={handleVolumeChange}\n                className=\"volume-slider\"\n                style={{ flex: 1 }}\n              />\n              <span style={{ fontSize: '0.75rem', minWidth: '30px' }}>\n                {Math.round(volume * 100)}%\n              </span>\n            </div>\n          </div>\n        )}\n\n        {/* Search Results */}\n        {searchResults.length > 0 && (\n          <div className=\"sidebar-section\">\n            <h3>Search Results</h3>\n            <div className=\"search-results\">\n              {searchResults.map((track, index) => (\n                <div key={track.id} className=\"track-item\">\n                  <img \n                    src={track.image || '/api/placeholder/40/40'} \n                    alt={track.name}\n                    style={{ width: '40px', height: '40px', borderRadius: '4px' }}\n                  />\n                  <div style={{ flex: 1, minWidth: 0 }}>\n                    <div style={{ fontWeight: '500', fontSize: '0.875rem', overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>\n                      {track.name}\n                    </div>\n                    <div style={{ fontSize: '0.75rem', color: 'rgba(255, 255, 255, 0.7)', overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>\n                      {track.artists?.join(', ') || 'Unknown Artist'}\n                    </div>\n                    {!track.youtube_id && (\n                      <div style={{ fontSize: '0.65rem', color: '#ff9800' }}>\n                        No playable version\n                      </div>\n                    )}\n                  </div>\n                  <div style={{ display: 'flex', gap: '0.25rem' }}>\n                    <button \n                      onClick={() => playTrack(track, index)}\n                      className=\"menu-button\"\n                      style={{ \n                        padding: '0.25rem',\n                        opacity: track.youtube_id ? 1 : 0.5\n                      }}\n                      disabled={!track.youtube_id}\n                    >\n                      <Play size={14} />\n                    </button>\n                    <button \n                      onClick={() => addToPlaylist(track)}\n                      className=\"menu-button\"\n                      style={{ padding: '0.25rem' }}\n                    >\n                      <Plus size={14} />\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Queue */}\n        {playlist.length > 0 && (\n          <div className=\"sidebar-section\">\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\n              <h3>\n                Queue ({playlist.length} tracks)\n                {isLoadingQueue && (\n                  <span style={{ fontSize: '0.7rem', color: '#7c3aed', marginLeft: '8px' }}>\n                    <Loader size={12} className=\"animate-spin\" style={{ display: 'inline', marginRight: '4px' }} />\n                    loading...\n                  </span>\n                )}\n              </h3>\n              <button onClick={() => setShowQueue(!showQueue)} className=\"menu-button\">\n                <List size={16} />\n              </button>\n            </div>\n            \n            {showQueue && (\n              <div className=\"queue-list\">\n                {playlist.map((track, index) => (\n                  <div \n                    key={`${track.id}-${index}`} \n                    className={`track-item ${index === currentIndex ? 'active' : ''}`}\n                  >\n                    <img \n                      src={track.image || '/api/placeholder/30/30'} \n                      alt={track.name}\n                      style={{ width: '30px', height: '30px', borderRadius: '4px' }}\n                    />\n                    <div style={{ flex: 1, minWidth: 0 }}>\n                      <div style={{ fontWeight: '500', fontSize: '0.75rem', overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>\n                        {track.name}\n                      </div>\n                      <div style={{ fontSize: '0.7rem', color: 'rgba(255, 255, 255, 0.7)', overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>\n                        {track.artists?.join(', ') || 'Unknown Artist'}\n                      </div>\n                    </div>\n                    <button \n                      onClick={() => removeFromPlaylist(track.id)}\n                      className=\"menu-button\"\n                      style={{ padding: '0.25rem' }}\n                    >\n                      <X size={12} />\n                    </button>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n      </motion.div>\n    </>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"D:\\PROJECTS\\HYDE-MUSIC\\DESKTOP(FLASK + REACT)\\VibeEra\\Frontend\\Chatbot-Main\\src\\Components\\SignInPage.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\PROJECTS\\HYDE-MUSIC\\DESKTOP(FLASK + REACT)\\VibeEra\\Frontend\\Chatbot-Main\\src\\main.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]